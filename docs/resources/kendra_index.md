---
page_title: "awscc_kendra_index Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  A Kendra index
---

# awscc_kendra_index (Resource)

A Kendra index

## Basic Example

### Create an Enterprise edition of Kendra index. 

The following example creates a Kendra index with the required permissions as per AWS documentation [here](https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-index).

```terraform
resource "awscc_kendra_index" "example" {
  edition     = "ENTERPRISE_EDITION"
  name        = "example-index"
  role_arn    = awscc_iam_role.example.arn
  description = "Example Kendra index"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}


resource "awscc_iam_role" "example" {
  role_name   = "kendra_index_role"
  description = "Role assigned to the Kendra index"
  assume_role_policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Principal = {
          Service = "kendra.amazonaws.com"
        }
      }
    ]
  })
  max_session_duration = 7200
  tags = [
    {
      key   = "Name"
      value = "Kendra index role"
    },
    {
      key   = "Modified By"
      value = "AWSCC"
    }
  ]
}

resource "awscc_iam_role_policy" "example" {
  policy_name = "kendra_role_policy"
  role_name   = awscc_iam_role.example.id

  policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect   = "Allow"
        Action   = "cloudwatch:PutMetricData"
        Resource = "*"
        Condition = {
          "StringEquals" : {
            "cloudwatch:namespace" : "AWS/Kendra"
          }
        }
      },
      {
        Effect   = "Allow"
        Action   = "logs:DescribeLogGroups"
        Resource = "*"
      },
      {
        Effect   = "Allow"
        Action   = "logs:CreateLogGroup",
        Resource = "arn:aws:logs:us-east-1:${data.aws_caller_identity.current.account_id}:log-group:/aws/kendra/*"
      },
      {
        Effect = "Allow"
        Action = [
          "logs:DescribeLogStreams",
          "logs:CreateLogStream",
          "logs:PutLogEvents"
        ],
        Resource = "arn:aws:logs:us-east-1:${data.aws_caller_identity.current.account_id}:log-group:/aws/kendra/*:log-stream:*"
      }
    ]
  })
}

data "aws_caller_identity" "current" {}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `edition` (String) Edition of index
- `name` (String) Name of index
- `role_arn` (String) Role Arn

### Optional

- `capacity_units` (Attributes) Capacity units (see [below for nested schema](#nestedatt--capacity_units))
- `description` (String) A description for the index
- `document_metadata_configurations` (Attributes List) Document metadata configurations (see [below for nested schema](#nestedatt--document_metadata_configurations))
- `server_side_encryption_configuration` (Attributes) Server side encryption configuration (see [below for nested schema](#nestedatt--server_side_encryption_configuration))
- `tags` (Attributes List) Tags for labeling the index (see [below for nested schema](#nestedatt--tags))
- `user_context_policy` (String)
- `user_token_configurations` (Attributes List) (see [below for nested schema](#nestedatt--user_token_configurations))

### Read-Only

- `arn` (String)
- `id` (String) Uniquely identifies the resource.
- `index_id` (String) Unique ID of index

<a id="nestedatt--capacity_units"></a>
### Nested Schema for `capacity_units`

Optional:

- `query_capacity_units` (Number)
- `storage_capacity_units` (Number)


<a id="nestedatt--document_metadata_configurations"></a>
### Nested Schema for `document_metadata_configurations`

Optional:

- `name` (String)
- `relevance` (Attributes) (see [below for nested schema](#nestedatt--document_metadata_configurations--relevance))
- `search` (Attributes) (see [below for nested schema](#nestedatt--document_metadata_configurations--search))
- `type` (String)

<a id="nestedatt--document_metadata_configurations--relevance"></a>
### Nested Schema for `document_metadata_configurations.relevance`

Optional:

- `duration` (String)
- `freshness` (Boolean)
- `importance` (Number)
- `rank_order` (String)
- `value_importance_items` (Attributes List) (see [below for nested schema](#nestedatt--document_metadata_configurations--relevance--value_importance_items))

<a id="nestedatt--document_metadata_configurations--relevance--value_importance_items"></a>
### Nested Schema for `document_metadata_configurations.relevance.value_importance_items`

Optional:

- `key` (String)
- `value` (Number)



<a id="nestedatt--document_metadata_configurations--search"></a>
### Nested Schema for `document_metadata_configurations.search`

Optional:

- `displayable` (Boolean)
- `facetable` (Boolean)
- `searchable` (Boolean)
- `sortable` (Boolean)



<a id="nestedatt--server_side_encryption_configuration"></a>
### Nested Schema for `server_side_encryption_configuration`

Optional:

- `kms_key_id` (String)


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) A string used to identify this tag
- `value` (String) A string containing the value for the tag


<a id="nestedatt--user_token_configurations"></a>
### Nested Schema for `user_token_configurations`

Optional:

- `json_token_type_configuration` (Attributes) (see [below for nested schema](#nestedatt--user_token_configurations--json_token_type_configuration))
- `jwt_token_type_configuration` (Attributes) (see [below for nested schema](#nestedatt--user_token_configurations--jwt_token_type_configuration))

<a id="nestedatt--user_token_configurations--json_token_type_configuration"></a>
### Nested Schema for `user_token_configurations.json_token_type_configuration`

Optional:

- `group_attribute_field` (String)
- `user_name_attribute_field` (String)


<a id="nestedatt--user_token_configurations--jwt_token_type_configuration"></a>
### Nested Schema for `user_token_configurations.jwt_token_type_configuration`

Optional:

- `claim_regex` (String)
- `group_attribute_field` (String)
- `issuer` (String)
- `key_location` (String)
- `secret_manager_arn` (String) Role Arn
- `url` (String)
- `user_name_attribute_field` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_kendra_index.example
  identity = {
    id = "id"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `id` (String) Unique ID of index

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_kendra_index.example
  id = "id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_kendra_index.example "id"
```