---
page_title: "awscc_datasync_location_s3 Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource schema for AWS::DataSync::LocationS3
---

# awscc_datasync_location_s3 (Resource)

Resource schema for AWS::DataSync::LocationS3

## Example Usage

```terraform
resource "awscc_datasync_location_s3" "example" {
  s3_bucket_arn = "arn:aws:s3:::example-bucket"
  s3_config = {
    bucket_access_role_arn = awscc_iam_role.example.arn
  }
  s3_storage_class = "STANDARD"
  subdirectory     = "/docs"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

resource "awscc_iam_role" "example" {
  role_name = "AWSDataSyncS3BucketAccess-example-bucket"
  assume_role_policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Principal = {
          Service = "datasync.amazonaws.com"
        }
        Action = "sts:AssumeRole"
        Condition = {
          StringEquals = {
            "aws:SourceAccount" = data.aws_caller_identity.current.account_id
          },
          ArnLike = {
            "aws:SourceArn" = "arn:aws:datasync:us-east-1:${data.aws_caller_identity.current.account_id}:*"
          }
        }
      }
    ]
  })
  policies = [{
    policy_name = "s2_ds_inline"
    policy_document = jsonencode(
      {
        "Version" : "2012-10-17",
        "Statement" : [
          {
            "Sid" : "AWSDataSyncS3BucketPermissions",
            "Effect" : "Allow",
            "Action" : [
              "s3:GetBucketLocation",
              "s3:ListBucket",
              "s3:ListBucketMultipartUploads"
            ],
            "Resource" : "arn:aws:s3:::example-bucket",
            "Condition" : {
              "StringEquals" : {
                "aws:ResourceAccount" : data.aws_caller_identity.current.account_id
              }
            }
          },
          {
            "Sid" : "AWSDataSyncS3ObjectPermissions",
            "Effect" : "Allow",
            "Action" : [
              "s3:AbortMultipartUpload",
              "s3:DeleteObject",
              "s3:GetObject",
              "s3:GetObjectTagging",
              "s3:GetObjectVersion",
              "s3:GetObjectVersionTagging",
              "s3:ListMultipartUploadParts",
              "s3:PutObject",
              "s3:PutObjectTagging"
            ],
            "Resource" : "arn:aws:s3:::example-bucket/*",
            "Condition" : {
              "StringEquals" : {
                "aws:ResourceAccount" : data.aws_caller_identity.current.account_id
              }
            }
          }
        ]
      }
    )
  }]

}

data "aws_caller_identity" "current" {}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `s3_config` (Attributes) The Amazon Resource Name (ARN) of the AWS IAM role that is used to access an Amazon S3 bucket. (see [below for nested schema](#nestedatt--s3_config))

### Optional

- `s3_bucket_arn` (String) The Amazon Resource Name (ARN) of the Amazon S3 bucket.
- `s3_storage_class` (String) The Amazon S3 storage class you want to store your files in when this location is used as a task destination.
- `subdirectory` (String) A subdirectory in the Amazon S3 bucket. This subdirectory in Amazon S3 is used to read data from the S3 source location or write data to the S3 destination.
- `tags` (Attributes Set) An array of key-value pairs to apply to this resource. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `location_arn` (String) The Amazon Resource Name (ARN) of the Amazon S3 bucket location.
- `location_uri` (String) The URL of the S3 location that was described.

<a id="nestedatt--s3_config"></a>
### Nested Schema for `s3_config`

Required:

- `bucket_access_role_arn` (String) The ARN of the IAM role of the Amazon S3 bucket.


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key for an AWS resource tag.
- `value` (String) The value for an AWS resource tag.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_datasync_location_s3.example
  id = "location_arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_datasync_location_s3.example "location_arn"
```