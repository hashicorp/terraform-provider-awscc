---
page_title: "awscc_ec2_traffic_mirror_target Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  The description of the Traffic Mirror target.
---

# awscc_ec2_traffic_mirror_target (Resource)

The description of the Traffic Mirror target.

## Example Usage

### Traffic Mirror Targets
Traffic Mirror Target configuration showing both Network Interface and Network Load Balancer target types with complete infrastructure setup

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Create a VPC and subnet for our resources
resource "aws_vpc" "example" {
  cidr_block = "10.0.0.0/16"

  tags = {
    Name        = "example-vpc"
    Environment = "example"
  }
}

resource "aws_subnet" "example" {
  vpc_id     = aws_vpc.example.id
  cidr_block = "10.0.1.0/24"

  tags = {
    Name        = "example-subnet"
    Environment = "example"
  }
}

# Add an internet gateway for the EC2 instance
resource "aws_internet_gateway" "example" {
  vpc_id = aws_vpc.example.id

  tags = {
    Name        = "example-igw"
    Environment = "example"
  }
}

# Add a security group for the EC2 instance
resource "aws_security_group" "example" {
  name        = "example-sg"
  description = "Allow SSH and all outbound traffic"
  vpc_id      = aws_vpc.example.id

  ingress {
    from_port   = 22
    to_port     = 22
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"]
  }

  egress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }

  tags = {
    Name        = "example-sg"
    Environment = "example"
  }
}

# Create an EC2 instance
data "aws_ami" "amazon_linux" {
  most_recent = true
  owners      = ["amazon"]

  filter {
    name   = "name"
    values = ["amzn2-ami-hvm-*-x86_64-gp2"]
  }

  filter {
    name   = "virtualization-type"
    values = ["hvm"]
  }
}

resource "aws_instance" "example" {
  ami                    = data.aws_ami.amazon_linux.id
  instance_type          = "t2.micro"
  subnet_id              = aws_subnet.example.id
  vpc_security_group_ids = [aws_security_group.example.id]

  tags = {
    Name        = "example-instance"
    Environment = "example"
  }
}

# Create a network interface for traffic mirroring and attach it to the instance
resource "aws_network_interface" "example" {
  subnet_id       = aws_subnet.example.id
  description     = "Example network interface for traffic mirroring"
  security_groups = [aws_security_group.example.id]

  attachment {
    instance     = aws_instance.example.id
    device_index = 1
  }

  tags = {
    Name        = "example-mirror-interface"
    Environment = "example"
  }
}

# Network Load Balancer target configuration
resource "aws_lb" "example" {
  name               = "example-nlb"
  internal           = true
  load_balancer_type = "network"
  subnets            = [aws_subnet.example.id]

  tags = {
    Name        = "example-nlb"
    Environment = "example"
  }
}

resource "awscc_ec2_traffic_mirror_target" "eni_target" {
  description          = "Example Traffic Mirror Target using network interface"
  network_interface_id = aws_network_interface.example.id

  tags = [
    {
      key   = "Name"
      value = "example-eni-target"
    },
    {
      key   = "Environment"
      value = "example"
    }
  ]
}

resource "awscc_ec2_traffic_mirror_target" "nlb_target" {
  description               = "Example Traffic Mirror Target using NLB"
  network_load_balancer_arn = aws_lb.example.arn

  tags = [
    {
      key   = "Name"
      value = "example-nlb-target"
    },
    {
      key   = "Environment"
      value = "example"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `description` (String) The description of the Traffic Mirror target.
- `gateway_load_balancer_endpoint_id` (String) The ID of the Gateway Load Balancer endpoint.
- `network_interface_id` (String) The network interface ID that is associated with the target.
- `network_load_balancer_arn` (String) The Amazon Resource Name (ARN) of the Network Load Balancer that is associated with the target.
- `tags` (Attributes List) The tags to assign to the Traffic Mirror target. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `traffic_mirror_target_id` (String)

<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_ec2_traffic_mirror_target.example
  identity = {
    id = "id"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `id` (String)

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_ec2_traffic_mirror_target.example
  id = "id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_ec2_traffic_mirror_target.example "id"
```
