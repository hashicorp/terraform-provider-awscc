
---
page_title: "awscc_iotfleetwise_campaign Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Definition of AWS::IoTFleetWise::Campaign Resource Type
---

# awscc_iotfleetwise_campaign (Resource)

Definition of AWS::IoTFleetWise::Campaign Resource Type

## Example Usage

### IoT FleetWise Data Collection Campaign

Creates an IoT FleetWise campaign that collects engine sensor data every minute from a specified fleet and stores it in S3, utilizing a signal catalog for data structure definition and proper S3 bucket permissions for data storage.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get current AWS Account ID
data "aws_caller_identity" "current" {}

# Get current AWS Region
data "aws_region" "current" {}

# Create a signal catalog first
resource "awscc_iotfleetwise_signal_catalog" "example" {
  name        = "ExampleSignalCatalog"
  description = "Example signal catalog for FleetWise"
  nodes = [
    {
      branch = {
        fully_qualified_name = "Vehicle"
      }
    },
    {
      sensor = {
        data_type            = "DOUBLE"
        fully_qualified_name = "Vehicle.EngineSensor"
      }
    }
  ]

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create a fleet
resource "awscc_iotfleetwise_fleet" "example" {
  fleet_id           = "examplefleet"
  description        = "Example fleet for FleetWise"
  signal_catalog_arn = awscc_iotfleetwise_signal_catalog.example.arn

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create S3 bucket for data collection
resource "awscc_s3_bucket" "fleetwise_data" {
  bucket_name = "example-fleetwise-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Allow FleetWise access to S3
resource "awscc_s3_bucket_policy" "fleetwise_access" {
  bucket = awscc_s3_bucket.fleetwise_data.id
  policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Sid    = "AllowFleetWiseAccess"
        Effect = "Allow"
        Principal = {
          Service = "iotfleetwise.amazonaws.com"
        }
        Action = [
          "s3:PutObject",
          "s3:ListBucket"
        ]
        Resource = [
          awscc_s3_bucket.fleetwise_data.arn,
          "${awscc_s3_bucket.fleetwise_data.arn}/*"
        ]
      }
    ]
  })
}

# Create the campaign
resource "awscc_iotfleetwise_campaign" "example" {
  name               = "ExampleCampaign"
  signal_catalog_arn = awscc_iotfleetwise_signal_catalog.example.arn
  target_arn         = awscc_iotfleetwise_fleet.example.arn

  collection_scheme = {
    time_based_collection_scheme = {
      period_ms = 60000 # Collect data every minute
    }
  }

  signals_to_collect = [
    {
      name                         = "Vehicle.EngineSensor"
      max_sample_count             = 100
      minimum_sampling_interval_ms = 1000
    }
  ]

  data_destination_configs = [
    {
      s3_config = {
        bucket_arn  = awscc_s3_bucket.fleetwise_data.arn
        prefix      = "data/"
        data_format = "JSON"
      }
    }
  ]

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `collection_scheme` (Attributes) (see [below for nested schema](#nestedatt--collection_scheme))
- `name` (String)
- `signal_catalog_arn` (String)
- `target_arn` (String)

### Optional

- `action` (String)
- `compression` (String)
- `data_destination_configs` (Attributes List) (see [below for nested schema](#nestedatt--data_destination_configs))
- `data_extra_dimensions` (List of String)
- `data_partitions` (Attributes List) (see [below for nested schema](#nestedatt--data_partitions))
- `description` (String)
- `diagnostics_mode` (String)
- `expiry_time` (String)
- `post_trigger_collection_duration` (Number)
- `priority` (Number)
- `signals_to_collect` (Attributes List) (see [below for nested schema](#nestedatt--signals_to_collect))
- `signals_to_fetch` (Attributes List) (see [below for nested schema](#nestedatt--signals_to_fetch))
- `spooling_mode` (String)
- `start_time` (String)
- `tags` (Attributes Set) (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `arn` (String)
- `creation_time` (String)
- `id` (String) Uniquely identifies the resource.
- `last_modification_time` (String)
- `status` (String)

<a id="nestedatt--collection_scheme"></a>
### Nested Schema for `collection_scheme`

Optional:

- `condition_based_collection_scheme` (Attributes) (see [below for nested schema](#nestedatt--collection_scheme--condition_based_collection_scheme))
- `time_based_collection_scheme` (Attributes) (see [below for nested schema](#nestedatt--collection_scheme--time_based_collection_scheme))

<a id="nestedatt--collection_scheme--condition_based_collection_scheme"></a>
### Nested Schema for `collection_scheme.condition_based_collection_scheme`

Optional:

- `condition_language_version` (Number)
- `expression` (String)
- `minimum_trigger_interval_ms` (Number)
- `trigger_mode` (String)


<a id="nestedatt--collection_scheme--time_based_collection_scheme"></a>
### Nested Schema for `collection_scheme.time_based_collection_scheme`

Optional:

- `period_ms` (Number)



<a id="nestedatt--data_destination_configs"></a>
### Nested Schema for `data_destination_configs`

Optional:

- `mqtt_topic_config` (Attributes) (see [below for nested schema](#nestedatt--data_destination_configs--mqtt_topic_config))
- `s3_config` (Attributes) (see [below for nested schema](#nestedatt--data_destination_configs--s3_config))
- `timestream_config` (Attributes) (see [below for nested schema](#nestedatt--data_destination_configs--timestream_config))

<a id="nestedatt--data_destination_configs--mqtt_topic_config"></a>
### Nested Schema for `data_destination_configs.mqtt_topic_config`

Optional:

- `execution_role_arn` (String)
- `mqtt_topic_arn` (String)


<a id="nestedatt--data_destination_configs--s3_config"></a>
### Nested Schema for `data_destination_configs.s3_config`

Optional:

- `bucket_arn` (String)
- `data_format` (String)
- `prefix` (String)
- `storage_compression_format` (String)


<a id="nestedatt--data_destination_configs--timestream_config"></a>
### Nested Schema for `data_destination_configs.timestream_config`

Optional:

- `execution_role_arn` (String)
- `timestream_table_arn` (String)



<a id="nestedatt--data_partitions"></a>
### Nested Schema for `data_partitions`

Optional:

- `id` (String)
- `storage_options` (Attributes) (see [below for nested schema](#nestedatt--data_partitions--storage_options))
- `upload_options` (Attributes) (see [below for nested schema](#nestedatt--data_partitions--upload_options))

<a id="nestedatt--data_partitions--storage_options"></a>
### Nested Schema for `data_partitions.storage_options`

Optional:

- `maximum_size` (Attributes) (see [below for nested schema](#nestedatt--data_partitions--storage_options--maximum_size))
- `minimum_time_to_live` (Attributes) (see [below for nested schema](#nestedatt--data_partitions--storage_options--minimum_time_to_live))
- `storage_location` (String)

<a id="nestedatt--data_partitions--storage_options--maximum_size"></a>
### Nested Schema for `data_partitions.storage_options.maximum_size`

Optional:

- `unit` (String)
- `value` (Number)


<a id="nestedatt--data_partitions--storage_options--minimum_time_to_live"></a>
### Nested Schema for `data_partitions.storage_options.minimum_time_to_live`

Optional:

- `unit` (String)
- `value` (Number)



<a id="nestedatt--data_partitions--upload_options"></a>
### Nested Schema for `data_partitions.upload_options`

Optional:

- `condition_language_version` (Number)
- `expression` (String)



<a id="nestedatt--signals_to_collect"></a>
### Nested Schema for `signals_to_collect`

Optional:

- `data_partition_id` (String)
- `max_sample_count` (Number)
- `minimum_sampling_interval_ms` (Number)
- `name` (String)


<a id="nestedatt--signals_to_fetch"></a>
### Nested Schema for `signals_to_fetch`

Optional:

- `actions` (List of String)
- `condition_language_version` (Number)
- `fully_qualified_name` (String)
- `signal_fetch_config` (Attributes) (see [below for nested schema](#nestedatt--signals_to_fetch--signal_fetch_config))

<a id="nestedatt--signals_to_fetch--signal_fetch_config"></a>
### Nested Schema for `signals_to_fetch.signal_fetch_config`

Optional:

- `condition_based` (Attributes) (see [below for nested schema](#nestedatt--signals_to_fetch--signal_fetch_config--condition_based))
- `time_based` (Attributes) (see [below for nested schema](#nestedatt--signals_to_fetch--signal_fetch_config--time_based))

<a id="nestedatt--signals_to_fetch--signal_fetch_config--condition_based"></a>
### Nested Schema for `signals_to_fetch.signal_fetch_config.condition_based`

Optional:

- `condition_expression` (String)
- `trigger_mode` (String)


<a id="nestedatt--signals_to_fetch--signal_fetch_config--time_based"></a>
### Nested Schema for `signals_to_fetch.signal_fetch_config.time_based`

Optional:

- `execution_frequency_ms` (Number)




<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_iotfleetwise_campaign.example "name"
```
