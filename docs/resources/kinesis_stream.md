
---
page_title: "awscc_kinesis_stream Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource Type definition for AWS::Kinesis::Stream
---

# awscc_kinesis_stream (Resource)

Resource Type definition for AWS::Kinesis::Stream

## Example Usage

### Encrypted Kinesis Stream with KMS

Creates a Kinesis stream with KMS encryption enabled, configured with PROVISIONED mode, 1 shard, and 24-hour data retention period.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get the current AWS account ID
data "aws_caller_identity" "current" {}

# KMS key policy data source
data "aws_iam_policy_document" "kms" {
  statement {
    sid    = "Enable IAM User Permissions"
    effect = "Allow"
    principals {
      type = "AWS"
      identifiers = [
        "arn:aws:iam::${data.aws_caller_identity.current.account_id}:root"
      ]
    }
    actions = [
      "kms:*"
    ]
    resources = ["*"]
  }
}

# Create a KMS key for stream encryption
resource "awscc_kms_key" "stream" {
  description = "KMS key for Kinesis stream encryption"
  key_policy  = data.aws_iam_policy_document.kms.json
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create a Kinesis stream
resource "awscc_kinesis_stream" "example" {
  name                   = "example-stream"
  retention_period_hours = 24
  shard_count            = 1

  stream_mode_details = {
    stream_mode = "PROVISIONED"
  }

  stream_encryption = {
    encryption_type = "KMS"
    key_id          = awscc_kms_key.stream.arn
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `desired_shard_level_metrics` (Set of String) The final list of shard-level metrics
- `name` (String) The name of the Kinesis stream.
- `retention_period_hours` (Number) The number of hours for the data records that are stored in shards to remain accessible.
- `shard_count` (Number) The number of shards that the stream uses. Required when StreamMode = PROVISIONED is passed.
- `stream_encryption` (Attributes) When specified, enables or updates server-side encryption using an AWS KMS key for a specified stream. (see [below for nested schema](#nestedatt--stream_encryption))
- `stream_mode_details` (Attributes) The mode in which the stream is running. (see [below for nested schema](#nestedatt--stream_mode_details))
- `tags` (Attributes List) An arbitrary set of tags (keyâ€“value pairs) to associate with the Kinesis stream. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `arn` (String) The Amazon resource name (ARN) of the Kinesis stream
- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--stream_encryption"></a>
### Nested Schema for `stream_encryption`

Optional:

- `encryption_type` (String) The encryption type to use. The only valid value is KMS.
- `key_id` (String) The GUID for the customer-managed AWS KMS key to use for encryption. This value can be a globally unique identifier, a fully specified Amazon Resource Name (ARN) to either an alias or a key, or an alias name prefixed by "alias/".You can also use a master key owned by Kinesis Data Streams by specifying the alias aws/kinesis.


<a id="nestedatt--stream_mode_details"></a>
### Nested Schema for `stream_mode_details`

Optional:

- `stream_mode` (String) The mode of the stream


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 255 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_kinesis_stream.example
  identity = {
    name = "name"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `name` (String) The name of the Kinesis stream

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_kinesis_stream.example
  id = "name"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_kinesis_stream.example "name"
```
