
---
page_title: "awscc_ivs_recording_configuration Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource Type definition for AWS::IVS::RecordingConfiguration
---

# awscc_ivs_recording_configuration (Resource)

Resource Type definition for AWS::IVS::RecordingConfiguration

## Example Usage

### IVS Recording Configuration with S3 Integration

Creates an IVS recording configuration that saves streams to S3 with HD thumbnail generation every 30 seconds, including necessary IAM roles and permissions for the IVS service.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get the current AWS region and account ID
data "aws_region" "current" {}
data "aws_caller_identity" "current" {}

# Create an S3 bucket for IVS recordings
resource "awscc_s3_bucket" "ivs_recordings" {
  bucket_name = "ivs-recordings-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# IAM role for IVS Recording
data "aws_iam_policy_document" "ivs_assume_role" {
  statement {
    actions = ["sts:AssumeRole"]
    effect  = "Allow"

    principals {
      type        = "Service"
      identifiers = ["ivs.amazonaws.com"]
    }
  }
}

# IAM policy for IVS to write to S3
data "aws_iam_policy_document" "ivs_s3_access" {
  statement {
    effect = "Allow"
    actions = [
      "s3:PutObject",
      "s3:GetObject",
      "s3:ListBucket"
    ]
    resources = [
      "${awscc_s3_bucket.ivs_recordings.arn}",
      "${awscc_s3_bucket.ivs_recordings.arn}/*"
    ]
  }
}

# Create IAM role for IVS using AWSCC provider
resource "awscc_iam_role" "ivs_recording_role" {
  role_name                   = "ivs-recording-role"
  assume_role_policy_document = data.aws_iam_policy_document.ivs_assume_role.json
  description                 = "IAM role for IVS recording service"
  max_session_duration        = 3600

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

resource "awscc_iam_role_policy" "ivs_recording_policy" {
  policy_name     = "ivs-recording-policy"
  role_name       = awscc_iam_role.ivs_recording_role.role_name
  policy_document = data.aws_iam_policy_document.ivs_s3_access.json
}

# Create IVS Recording Configuration
resource "awscc_ivs_recording_configuration" "example" {
  name = "example-recording-config"

  destination_configuration = {
    s3 = {
      bucket_name = awscc_s3_bucket.ivs_recordings.bucket_name
    }
  }

  recording_reconnect_window_seconds = 60

  thumbnail_configuration = {
    recording_mode          = "INTERVAL"
    target_interval_seconds = 30
    resolution              = "HD"
    storage                 = ["SEQUENTIAL"]
  }

  rendition_configuration = {
    rendition_selection = "ALL"
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `destination_configuration` (Attributes) Recording Destination Configuration. (see [below for nested schema](#nestedatt--destination_configuration))

### Optional

- `name` (String) Recording Configuration Name.
- `recording_reconnect_window_seconds` (Number) Recording Reconnect Window Seconds. (0 means disabled)
- `rendition_configuration` (Attributes) Rendition Configuration describes which renditions should be recorded for a stream. (see [below for nested schema](#nestedatt--rendition_configuration))
- `tags` (Attributes Set) A list of key-value pairs that contain metadata for the asset model. (see [below for nested schema](#nestedatt--tags))
- `thumbnail_configuration` (Attributes) Recording Thumbnail Configuration. (see [below for nested schema](#nestedatt--thumbnail_configuration))

### Read-Only

- `arn` (String) Recording Configuration ARN is automatically generated on creation and assigned as the unique identifier.
- `id` (String) Uniquely identifies the resource.
- `state` (String) Recording Configuration State.

<a id="nestedatt--destination_configuration"></a>
### Nested Schema for `destination_configuration`

Optional:

- `s3` (Attributes) Recording S3 Destination Configuration. (see [below for nested schema](#nestedatt--destination_configuration--s3))

<a id="nestedatt--destination_configuration--s3"></a>
### Nested Schema for `destination_configuration.s3`

Optional:

- `bucket_name` (String)



<a id="nestedatt--rendition_configuration"></a>
### Nested Schema for `rendition_configuration`

Optional:

- `rendition_selection` (String) Resolution Selection indicates which set of renditions are recorded for a stream.
- `renditions` (Set of String) Renditions indicates which renditions are recorded for a stream.


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.


<a id="nestedatt--thumbnail_configuration"></a>
### Nested Schema for `thumbnail_configuration`

Optional:

- `recording_mode` (String) Thumbnail Recording Mode, which determines whether thumbnails are recorded at an interval or are disabled.
- `resolution` (String) Resolution indicates the desired resolution of recorded thumbnails.
- `storage` (Set of String) Storage indicates the format in which thumbnails are recorded.
- `target_interval_seconds` (Number) Target Interval Seconds defines the interval at which thumbnails are recorded. This field is required if RecordingMode is INTERVAL.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_ivs_recording_configuration.example
  id = "arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_ivs_recording_configuration.example "arn"
```
