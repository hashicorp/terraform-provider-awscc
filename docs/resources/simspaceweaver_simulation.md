
---
page_title: "awscc_simspaceweaver_simulation Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  AWS::SimSpaceWeaver::Simulation resource creates an AWS Simulation.
---

# awscc_simspaceweaver_simulation (Resource)

AWS::SimSpaceWeaver::Simulation resource creates an AWS Simulation.

## Example Usage

### Create SimSpaceWeaver Simulation with S3 Integration

To create an AWS SimSpaceWeaver simulation with associated S3 bucket for schema and snapshots storage, along with required IAM role and permissions for simulation execution.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
data "aws_caller_identity" "current" {}
# Note: Using data.aws_region.current.region (AWS provider v6.0+)
# For AWS provider < v6.0, use data.aws_region.current.name instead
data "aws_region" "current" {}

locals {
  bucket_name = "simspaceweaver-simulation-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.region}"
}

# S3 bucket for simulation schema and snapshots
resource "aws_s3_bucket" "simulation" {
  bucket        = local.bucket_name
  force_destroy = true
}

# Schema file for simulation
resource "aws_s3_object" "schema" {
  bucket = aws_s3_bucket.simulation.id
  key    = "simulation/schema.json"
  content = jsonencode({
    version = "1.0"
    simulation = {
      name = "example"
    }
  })
}

# IAM role for SimSpaceWeaver
data "aws_iam_policy_document" "assume_role" {
  statement {
    effect = "Allow"
    principals {
      type        = "Service"
      identifiers = ["simspaceweaver.amazonaws.com"]
    }
    actions = ["sts:AssumeRole"]
  }
}

# IAM permissions required for SimSpaceWeaver
data "aws_iam_policy_document" "simulation" {
  statement {
    effect = "Allow"
    actions = [
      "s3:GetObject",
      "s3:PutObject",
      "s3:ListBucket"
    ]
    resources = [
      "arn:aws:s3:::${local.bucket_name}",
      "arn:aws:s3:::${local.bucket_name}/*"
    ]
  }

  statement {
    effect = "Allow"
    actions = [
      "logs:CreateLogGroup",
      "logs:CreateLogStream",
      "logs:PutLogEvents"
    ]
    resources = [
      "arn:aws:logs:${data.aws_region.current.region}:${data.aws_caller_identity.current.account_id}:log-group:/aws/simspaceweaver/*"
    ]
  }
}

resource "aws_iam_role" "simulation" {
  name               = "simspaceweaver-simulation-role"
  assume_role_policy = data.aws_iam_policy_document.assume_role.json

  inline_policy {
    name   = "simulation-policy"
    policy = data.aws_iam_policy_document.simulation.json
  }
}

# SimSpaceWeaver simulation
resource "awscc_simspaceweaver_simulation" "example" {
  name     = "example-simulation"
  role_arn = aws_iam_role.simulation.arn

  schema_s3_location = {
    bucket_name = aws_s3_bucket.simulation.id
    object_key  = aws_s3_object.schema.key
  }

  snapshot_s3_location = {
    bucket_name = aws_s3_bucket.simulation.id
    object_key  = "simulation/snapshots/"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the simulation.
- `role_arn` (String) Role ARN.

### Optional

- `maximum_duration` (String) The maximum running time of the simulation.
- `schema_s3_location` (Attributes) (see [below for nested schema](#nestedatt--schema_s3_location))
- `snapshot_s3_location` (Attributes) (see [below for nested schema](#nestedatt--snapshot_s3_location))

### Read-Only

- `describe_payload` (String) Json object with all simulation details
- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--schema_s3_location"></a>
### Nested Schema for `schema_s3_location`

Optional:

- `bucket_name` (String) The Schema S3 bucket name.
- `object_key` (String) This is the schema S3 object key, which includes the full path of "folders" from the bucket root to the schema.


<a id="nestedatt--snapshot_s3_location"></a>
### Nested Schema for `snapshot_s3_location`

Optional:

- `bucket_name` (String) The Schema S3 bucket name.
- `object_key` (String) This is the schema S3 object key, which includes the full path of "folders" from the bucket root to the schema.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_simspaceweaver_simulation.example "name"
```
