---
page_title: "awscc_bedrock_agent Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Definition of AWS::Bedrock::Agent Resource Type
---

# awscc_bedrock_agent (Resource)

Definition of AWS::Bedrock::Agent Resource Type

## Example Usage

Using Anthropic Claude v2.1 as the model with Lambda action group executor with api schema stored in S3.

```terraform
resource "awscc_bedrock_agent" "example" {
  agent_name              = "example-agent"
  description             = "Example agent configuration"
  agent_resource_role_arn = var.agent_role_arn
  foundation_model        = "anthropic.claude-v2:1"
  instruction             = "You are an office assistant in an insurance agency. You are friendly and polite. You help with managing insurance claims and coordinating pending paperwork."
  knowledge_bases = [{
    description          = "example knowledge base"
    knowledge_base_id    = var.knowledge_base_id
    knowledge_base_state = "ENABLED"
  }]

  customer_encryption_key_arn = var.kms_key_arn
  idle_session_ttl_in_seconds = 600
  auto_prepare                = true

  action_groups = [{
    action_group_name = "example-action-group"
    description       = "Example action group"
    api_schema = {
      s3 = {
        s3_bucket_name = var.bucket_name
        s3_object_key  = var.bucket_object_key
      }
    }
    action_group_executor = {
      lambda = var.lambda_arn
    }

  }]

  tags = {
    "Modified By" = "AWSCC"
  }

}

variable "bucket_name" {
  type = string
}

variable "bucket_object_key" {
  type = string
}

variable "agent_role_arn" {
  type = string
}

variable "knowledge_base_id" {
  type = string
}

variable "kms_key_arn" {
  type = string
}

variable "lambda_arn" {
  type = string
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `agent_name` (String) Name for a resource.

### Optional

- `action_groups` (Attributes List) List of ActionGroups (see [below for nested schema](#nestedatt--action_groups))
- `agent_collaboration` (String) Agent collaboration state
- `agent_collaborators` (Attributes List) List of Agent Collaborators (see [below for nested schema](#nestedatt--agent_collaborators))
- `agent_resource_role_arn` (String) ARN of a IAM role.
- `auto_prepare` (Boolean) Specifies whether to automatically prepare after creating or updating the agent.
- `custom_orchestration` (Attributes) Structure for custom orchestration (see [below for nested schema](#nestedatt--custom_orchestration))
- `customer_encryption_key_arn` (String) A KMS key ARN
- `description` (String) Description of the Resource.
- `foundation_model` (String) ARN or name of a Bedrock model.
- `guardrail_configuration` (Attributes) Configuration for a guardrail. (see [below for nested schema](#nestedatt--guardrail_configuration))
- `idle_session_ttl_in_seconds` (Number) Max Session Time.
- `instruction` (String) Instruction for the agent.
- `knowledge_bases` (Attributes List) List of Agent Knowledge Bases (see [below for nested schema](#nestedatt--knowledge_bases))
- `memory_configuration` (Attributes) Configuration for memory storage (see [below for nested schema](#nestedatt--memory_configuration))
- `orchestration_type` (String) Types of orchestration strategy for agents
- `prompt_override_configuration` (Attributes) Configuration for prompt override. (see [below for nested schema](#nestedatt--prompt_override_configuration))
- `skip_resource_in_use_check_on_delete` (Boolean) Specifies whether to allow deleting agent while it is in use.
- `tags` (Map of String) A map of tag keys and values
- `test_alias_tags` (Map of String) A map of tag keys and values

### Read-Only

- `agent_arn` (String) Arn representation of the Agent.
- `agent_id` (String) Identifier for a resource.
- `agent_status` (String) Schema Type for Action APIs.
- `agent_version` (String) Draft Agent Version.
- `created_at` (String) Time Stamp.
- `failure_reasons` (List of String) Failure Reasons for Error.
- `id` (String) Uniquely identifies the resource.
- `prepared_at` (String) Time Stamp.
- `recommended_actions` (List of String) The recommended actions users can take to resolve an error in failureReasons.
- `updated_at` (String) Time Stamp.

<a id="nestedatt--action_groups"></a>
### Nested Schema for `action_groups`

Optional:

- `action_group_executor` (Attributes) Type of Executors for an Action Group (see [below for nested schema](#nestedatt--action_groups--action_group_executor))
- `action_group_name` (String) Name of the action group
- `action_group_state` (String) State of the action group
- `api_schema` (Attributes) Contains information about the API Schema for the Action Group (see [below for nested schema](#nestedatt--action_groups--api_schema))
- `description` (String) Description of action group
- `function_schema` (Attributes) Schema of Functions (see [below for nested schema](#nestedatt--action_groups--function_schema))
- `parent_action_group_signature` (String) Action Group Signature for a BuiltIn Action
- `skip_resource_in_use_check_on_delete` (Boolean) Specifies whether to allow deleting action group while it is in use.

<a id="nestedatt--action_groups--action_group_executor"></a>
### Nested Schema for `action_groups.action_group_executor`

Optional:

- `custom_control` (String) Custom control of action execution
- `lambda` (String) ARN of a Lambda.


<a id="nestedatt--action_groups--api_schema"></a>
### Nested Schema for `action_groups.api_schema`

Optional:

- `payload` (String) String OpenAPI Payload
- `s3` (Attributes) The identifier for the S3 resource. (see [below for nested schema](#nestedatt--action_groups--api_schema--s3))

<a id="nestedatt--action_groups--api_schema--s3"></a>
### Nested Schema for `action_groups.api_schema.s3`

Optional:

- `s3_bucket_name` (String) A bucket in S3.
- `s3_object_key` (String) A object key in S3.



<a id="nestedatt--action_groups--function_schema"></a>
### Nested Schema for `action_groups.function_schema`

Optional:

- `functions` (Attributes List) List of Function definitions (see [below for nested schema](#nestedatt--action_groups--function_schema--functions))

<a id="nestedatt--action_groups--function_schema--functions"></a>
### Nested Schema for `action_groups.function_schema.functions`

Optional:

- `description` (String) Description of function
- `name` (String) Name for a resource.
- `parameters` (Attributes Map) A map of parameter name and detail (see [below for nested schema](#nestedatt--action_groups--function_schema--functions--parameters))
- `require_confirmation` (String) ENUM to check if action requires user confirmation

<a id="nestedatt--action_groups--function_schema--functions--parameters"></a>
### Nested Schema for `action_groups.function_schema.functions.parameters`

Optional:

- `description` (String) Description of function parameter.
- `required` (Boolean) Information about if a parameter is required for function call. Default to false.
- `type` (String) Parameter Type





<a id="nestedatt--agent_collaborators"></a>
### Nested Schema for `agent_collaborators`

Optional:

- `agent_descriptor` (Attributes) Agent descriptor for agent collaborator (see [below for nested schema](#nestedatt--agent_collaborators--agent_descriptor))
- `collaboration_instruction` (String) Agent collaborator instruction
- `collaborator_name` (String) Agent collaborator name
- `relay_conversation_history` (String) Relay conversation history state

<a id="nestedatt--agent_collaborators--agent_descriptor"></a>
### Nested Schema for `agent_collaborators.agent_descriptor`

Optional:

- `alias_arn` (String) Alias ARN for agent descriptor



<a id="nestedatt--custom_orchestration"></a>
### Nested Schema for `custom_orchestration`

Optional:

- `executor` (Attributes) Types of executors for custom orchestration strategy (see [below for nested schema](#nestedatt--custom_orchestration--executor))

<a id="nestedatt--custom_orchestration--executor"></a>
### Nested Schema for `custom_orchestration.executor`

Optional:

- `lambda` (String) ARN of a Lambda.



<a id="nestedatt--guardrail_configuration"></a>
### Nested Schema for `guardrail_configuration`

Optional:

- `guardrail_identifier` (String) Identifier for the guardrail, could be the id or the arn
- `guardrail_version` (String) Version of the guardrail


<a id="nestedatt--knowledge_bases"></a>
### Nested Schema for `knowledge_bases`

Optional:

- `description` (String) Description of the Resource.
- `knowledge_base_id` (String) Identifier for a resource.
- `knowledge_base_state` (String) State of the knowledge base; whether it is enabled or disabled


<a id="nestedatt--memory_configuration"></a>
### Nested Schema for `memory_configuration`

Optional:

- `enabled_memory_types` (List of String) Types of session storage persisted in memory
- `session_summary_configuration` (Attributes) Configuration for Session Summarization (see [below for nested schema](#nestedatt--memory_configuration--session_summary_configuration))
- `storage_days` (Number) Maximum number of days to store session details

<a id="nestedatt--memory_configuration--session_summary_configuration"></a>
### Nested Schema for `memory_configuration.session_summary_configuration`

Optional:

- `max_recent_sessions` (Number) Maximum number of Sessions to Summarize



<a id="nestedatt--prompt_override_configuration"></a>
### Nested Schema for `prompt_override_configuration`

Optional:

- `override_lambda` (String) ARN of a Lambda.
- `prompt_configurations` (Attributes List) List of BasePromptConfiguration (see [below for nested schema](#nestedatt--prompt_override_configuration--prompt_configurations))

<a id="nestedatt--prompt_override_configuration--prompt_configurations"></a>
### Nested Schema for `prompt_override_configuration.prompt_configurations`

Optional:

- `additional_model_request_fields` (String) Additional Model Request Fields for Prompt Configuration
- `base_prompt_template` (String) Base Prompt Template.
- `foundation_model` (String) ARN or name of a Bedrock model.
- `inference_configuration` (Attributes) Configuration for inference in prompt configuration (see [below for nested schema](#nestedatt--prompt_override_configuration--prompt_configurations--inference_configuration))
- `parser_mode` (String) Creation Mode for Prompt Configuration.
- `prompt_creation_mode` (String) Creation Mode for Prompt Configuration.
- `prompt_state` (String) Prompt State.
- `prompt_type` (String) Prompt Type.

<a id="nestedatt--prompt_override_configuration--prompt_configurations--inference_configuration"></a>
### Nested Schema for `prompt_override_configuration.prompt_configurations.inference_configuration`

Optional:

- `maximum_length` (Number) Maximum length of output
- `stop_sequences` (List of String) List of stop sequences
- `temperature` (Number) Controls randomness, higher values increase diversity
- `top_k` (Number) Sample from the k most likely next tokens
- `top_p` (Number) Cumulative probability cutoff for token selection

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_bedrock_agent.example
  id = "agent_id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_bedrock_agent.example "agent_id"
```