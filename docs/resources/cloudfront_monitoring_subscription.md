
---
page_title: "awscc_cloudfront_monitoring_subscription Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  A monitoring subscription. This structure contains information about whether additional CloudWatch metrics are enabled for a given CloudFront distribution.
---

# awscc_cloudfront_monitoring_subscription (Resource)

A monitoring subscription. This structure contains information about whether additional CloudWatch metrics are enabled for a given CloudFront distribution.

## Example Usage

### Enable CloudFront Real-Time Monitoring

Creates a CloudFront monitoring subscription that enables real-time metrics monitoring for a CloudFront distribution, demonstrating the configuration with supporting S3 bucket and distribution resources.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
data "aws_caller_identity" "current" {}

# Create an S3 bucket for CloudFront origin
resource "aws_s3_bucket" "example" {
  bucket = "cloudfront-monitoring-example-${data.aws_caller_identity.current.account_id}"
}

# Origin access identity for CloudFront
resource "aws_cloudfront_origin_access_identity" "example" {
  comment = "Example OAI for monitoring subscription"
}

# Bucket policy to allow CloudFront access
resource "aws_s3_bucket_policy" "example" {
  bucket = aws_s3_bucket.example.id

  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Sid    = "AllowCloudFrontOAI"
        Effect = "Allow"
        Principal = {
          AWS = "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ${aws_cloudfront_origin_access_identity.example.id}"
        }
        Action   = "s3:GetObject"
        Resource = "${aws_s3_bucket.example.arn}/*"
      }
    ]
  })
}

# Create CloudFront distribution
resource "aws_cloudfront_distribution" "example" {
  enabled             = true
  is_ipv6_enabled     = true
  comment             = "Example distribution for monitoring subscription"
  default_root_object = "index.html"

  origin {
    domain_name = aws_s3_bucket.example.bucket_regional_domain_name
    origin_id   = "myS3Origin"

    s3_origin_config {
      origin_access_identity = aws_cloudfront_origin_access_identity.example.cloudfront_access_identity_path
    }
  }

  default_cache_behavior {
    target_origin_id       = "myS3Origin"
    viewer_protocol_policy = "redirect-to-https"
    allowed_methods        = ["GET", "HEAD"]
    cached_methods         = ["GET", "HEAD"]
    min_ttl                = 0
    default_ttl            = 3600
    max_ttl                = 86400

    forwarded_values {
      query_string = false
      cookies {
        forward = "none"
      }
    }
  }

  restrictions {
    geo_restriction {
      restriction_type = "none"
    }
  }

  viewer_certificate {
    cloudfront_default_certificate = true
  }

  tags = {
    "Modified By" = "AWSCC"
  }
}

# Create CloudFront monitoring subscription
resource "awscc_cloudfront_monitoring_subscription" "example" {
  distribution_id = aws_cloudfront_distribution.example.id
  monitoring_subscription = {
    realtime_metrics_subscription_config = {
      realtime_metrics_subscription_status = "Enabled"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `distribution_id` (String) The ID of the distribution that you are enabling metrics for.
- `monitoring_subscription` (Attributes) A subscription configuration for additional CloudWatch metrics. (see [below for nested schema](#nestedatt--monitoring_subscription))

### Read-Only

- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--monitoring_subscription"></a>
### Nested Schema for `monitoring_subscription`

Optional:

- `realtime_metrics_subscription_config` (Attributes) A subscription configuration for additional CloudWatch metrics. (see [below for nested schema](#nestedatt--monitoring_subscription--realtime_metrics_subscription_config))

<a id="nestedatt--monitoring_subscription--realtime_metrics_subscription_config"></a>
### Nested Schema for `monitoring_subscription.realtime_metrics_subscription_config`

Optional:

- `realtime_metrics_subscription_status` (String) A flag that indicates whether additional CloudWatch metrics are enabled for a given CloudFront distribution.

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_cloudfront_monitoring_subscription.example
  identity = {
    distribution_id = "distribution_id"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `distribution_id` (String) The ID of the distribution that you are enabling metrics for

#### Optional

- `account_id` (String) AWS Account where this resource is managed

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_cloudfront_monitoring_subscription.example
  id = "distribution_id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_cloudfront_monitoring_subscription.example "distribution_id"
```
