---
page_title: "awscc_apigatewayv2_api_mapping Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  The AWS::ApiGatewayV2::ApiMapping resource contains an API mapping. An API mapping relates a path of your custom domain name to a stage of your API. A custom domain name can have multiple API mappings, but the paths can't overlap. A custom domain can map only to APIs of the same protocol type. For more information, see CreateApiMapping https://docs.aws.amazon.com/apigatewayv2/latest/api-reference/domainnames-domainname-apimappings.html#CreateApiMapping in the Amazon API Gateway V2 API Reference.
---

# awscc_apigatewayv2_api_mapping (Resource)

The ``AWS::ApiGatewayV2::ApiMapping`` resource contains an API mapping. An API mapping relates a path of your custom domain name to a stage of your API. A custom domain name can have multiple API mappings, but the paths can't overlap. A custom domain can map only to APIs of the same protocol type. For more information, see [CreateApiMapping](https://docs.aws.amazon.com/apigatewayv2/latest/api-reference/domainnames-domainname-apimappings.html#CreateApiMapping) in the *Amazon API Gateway V2 API Reference*.

## Example Usage

### Basic

```terraform
resource "awscc_apigatewayv2_api_mapping" "example" {
  api_id      = awscc_apigatewayv2_api.example.api_id
  domain_name = awscc_apigatewayv2_domain_name.example.domain_name
  stage       = "dev"
}

resource "awscc_apigatewayv2_domain_name" "example" {
  domain_name = "example.com"
  domain_name_configurations = [{
    certificate_arn = var.certificate_arn
    endpoint_type   = "REGIONAL"
    security_policy = "TLS_1_2"
  }]
}

resource "awscc_apigatewayv2_api" "example" {
  name          = "http-api"
  protocol_type = "HTTP"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_id` (String) The identifier of the API.
- `domain_name` (String) The domain name.
- `stage` (String) The API stage.

### Optional

- `api_mapping_key` (String) The API mapping key.

### Read-Only

- `api_mapping_id` (String)
- `id` (String) Uniquely identifies the resource.

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_apigatewayv2_api_mapping.example
  identity = {
    api_mapping_id = "api_mapping_id"
    domain_name    = "domain_name"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `api_mapping_id` (String)
- `domain_name` (String) The domain name

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_apigatewayv2_api_mapping.example
  id = "api_mapping_id|domain_name"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_apigatewayv2_api_mapping.example "api_mapping_id|domain_name"
```
