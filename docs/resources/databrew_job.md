
---
page_title: "awscc_databrew_job Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource schema for AWS::DataBrew::Job.
---

# awscc_databrew_job (Resource)

Resource schema for AWS::DataBrew::Job.

## Example Usage

### DataBrew Profile Job with S3 Integration

Creates an AWS DataBrew profile job that processes data from an S3 source dataset and outputs results to an S3 bucket, with necessary IAM roles and permissions configured for secure execution.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
data "aws_caller_identity" "current" {}
data "aws_region" "current" {}

# Define the IAM role for DataBrew
data "aws_iam_policy_document" "assume_role" {
  statement {
    effect  = "Allow"
    actions = ["sts:AssumeRole"]
    principals {
      type        = "Service"
      identifiers = ["databrew.amazonaws.com"]
    }
  }
}

# Create the IAM role
resource "awscc_iam_role" "databrew_role" {
  role_name                   = "databrew-profile-job-role"
  assume_role_policy_document = data.aws_iam_policy_document.assume_role.json

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Define the IAM policy for DataBrew job
data "aws_iam_policy_document" "databrew_policy" {
  statement {
    effect = "Allow"
    actions = [
      "s3:ListBucket",
      "s3:GetBucketLocation"
    ]
    resources = [
      "arn:aws:s3:::${awscc_s3_bucket.example.id}"
    ]
  }

  statement {
    effect = "Allow"
    actions = [
      "s3:GetObject",
      "s3:PutObject",
      "s3:DeleteObject"
    ]
    resources = [
      "arn:aws:s3:::${awscc_s3_bucket.example.id}/*"
    ]
  }

  statement {
    effect = "Allow"
    actions = [
      "logs:CreateLogGroup",
      "logs:CreateLogStream",
      "logs:PutLogEvents"
    ]
    resources = [
      "arn:aws:logs:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:log-group:/aws/databrew/*"
    ]
  }
}

# Attach the policy to the role
resource "awscc_iam_role_policy" "databrew_role_policy" {
  policy_document = data.aws_iam_policy_document.databrew_policy.json
  policy_name     = "databrew-job-policy"
  role_name       = awscc_iam_role.databrew_role.role_name
}

# Create example S3 bucket for outputs
resource "awscc_s3_bucket" "example" {
  bucket_name = "example-databrew-output-${data.aws_caller_identity.current.account_id}"
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Upload a sample CSV file
resource "aws_s3_object" "sample" {
  bucket       = awscc_s3_bucket.example.id
  key          = "input/sample.csv"
  content      = "id,name,value\n1,test1,100\n2,test2,200"
  content_type = "text/csv"
}

# Create example dataset
resource "awscc_databrew_dataset" "example" {
  name = "example-dataset"
  input = {
    s3_input_definition = {
      bucket = awscc_s3_bucket.example.id
      key    = "input/sample.csv"
    }
  }
  format = "CSV"
}

# Create the DataBrew Job
resource "awscc_databrew_job" "example" {
  name     = "example-profile-job"
  role_arn = awscc_iam_role.databrew_role.arn
  type     = "PROFILE"

  dataset_name = awscc_databrew_dataset.example.name

  output_location = {
    bucket = awscc_s3_bucket.example.id
    key    = "output/profile-results/"
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Job name
- `role_arn` (String) Role arn
- `type` (String) Job type

### Optional

- `data_catalog_outputs` (Attributes List) (see [below for nested schema](#nestedatt--data_catalog_outputs))
- `database_outputs` (Attributes List) (see [below for nested schema](#nestedatt--database_outputs))
- `dataset_name` (String) Dataset name
- `encryption_key_arn` (String) Encryption Key Arn
- `encryption_mode` (String) Encryption mode
- `job_sample` (Attributes) Job Sample (see [below for nested schema](#nestedatt--job_sample))
- `log_subscription` (String) Log subscription
- `max_capacity` (Number) Max capacity
- `max_retries` (Number) Max retries
- `output_location` (Attributes) Output location (see [below for nested schema](#nestedatt--output_location))
- `outputs` (Attributes List) (see [below for nested schema](#nestedatt--outputs))
- `profile_configuration` (Attributes) Profile Job configuration (see [below for nested schema](#nestedatt--profile_configuration))
- `project_name` (String) Project name
- `recipe` (Attributes) (see [below for nested schema](#nestedatt--recipe))
- `tags` (Attributes List) (see [below for nested schema](#nestedatt--tags))
- `timeout` (Number) Timeout
- `validation_configurations` (Attributes List) Data quality rules configuration (see [below for nested schema](#nestedatt--validation_configurations))

### Read-Only

- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--data_catalog_outputs"></a>
### Nested Schema for `data_catalog_outputs`

Optional:

- `catalog_id` (String)
- `database_name` (String)
- `database_options` (Attributes) (see [below for nested schema](#nestedatt--data_catalog_outputs--database_options))
- `overwrite` (Boolean)
- `s3_options` (Attributes) (see [below for nested schema](#nestedatt--data_catalog_outputs--s3_options))
- `table_name` (String)

<a id="nestedatt--data_catalog_outputs--database_options"></a>
### Nested Schema for `data_catalog_outputs.database_options`

Optional:

- `table_name` (String)
- `temp_directory` (Attributes) S3 Output location (see [below for nested schema](#nestedatt--data_catalog_outputs--database_options--temp_directory))

<a id="nestedatt--data_catalog_outputs--database_options--temp_directory"></a>
### Nested Schema for `data_catalog_outputs.database_options.temp_directory`

Optional:

- `bucket` (String)
- `bucket_owner` (String)
- `key` (String)



<a id="nestedatt--data_catalog_outputs--s3_options"></a>
### Nested Schema for `data_catalog_outputs.s3_options`

Optional:

- `location` (Attributes) S3 Output location (see [below for nested schema](#nestedatt--data_catalog_outputs--s3_options--location))

<a id="nestedatt--data_catalog_outputs--s3_options--location"></a>
### Nested Schema for `data_catalog_outputs.s3_options.location`

Optional:

- `bucket` (String)
- `bucket_owner` (String)
- `key` (String)




<a id="nestedatt--database_outputs"></a>
### Nested Schema for `database_outputs`

Optional:

- `database_options` (Attributes) (see [below for nested schema](#nestedatt--database_outputs--database_options))
- `database_output_mode` (String) Database table name
- `glue_connection_name` (String) Glue connection name

<a id="nestedatt--database_outputs--database_options"></a>
### Nested Schema for `database_outputs.database_options`

Optional:

- `table_name` (String)
- `temp_directory` (Attributes) S3 Output location (see [below for nested schema](#nestedatt--database_outputs--database_options--temp_directory))

<a id="nestedatt--database_outputs--database_options--temp_directory"></a>
### Nested Schema for `database_outputs.database_options.temp_directory`

Optional:

- `bucket` (String)
- `bucket_owner` (String)
- `key` (String)




<a id="nestedatt--job_sample"></a>
### Nested Schema for `job_sample`

Optional:

- `mode` (String) Sample configuration mode for profile jobs.
- `size` (Number) Sample configuration size for profile jobs.


<a id="nestedatt--output_location"></a>
### Nested Schema for `output_location`

Optional:

- `bucket` (String)
- `bucket_owner` (String)
- `key` (String)


<a id="nestedatt--outputs"></a>
### Nested Schema for `outputs`

Optional:

- `compression_format` (String)
- `format` (String)
- `format_options` (Attributes) Format options for job Output (see [below for nested schema](#nestedatt--outputs--format_options))
- `location` (Attributes) S3 Output location (see [below for nested schema](#nestedatt--outputs--location))
- `max_output_files` (Number)
- `overwrite` (Boolean)
- `partition_columns` (List of String)

<a id="nestedatt--outputs--format_options"></a>
### Nested Schema for `outputs.format_options`

Optional:

- `csv` (Attributes) Output Csv options (see [below for nested schema](#nestedatt--outputs--format_options--csv))

<a id="nestedatt--outputs--format_options--csv"></a>
### Nested Schema for `outputs.format_options.csv`

Optional:

- `delimiter` (String)



<a id="nestedatt--outputs--location"></a>
### Nested Schema for `outputs.location`

Optional:

- `bucket` (String)
- `bucket_owner` (String)
- `key` (String)



<a id="nestedatt--profile_configuration"></a>
### Nested Schema for `profile_configuration`

Optional:

- `column_statistics_configurations` (Attributes List) (see [below for nested schema](#nestedatt--profile_configuration--column_statistics_configurations))
- `dataset_statistics_configuration` (Attributes) (see [below for nested schema](#nestedatt--profile_configuration--dataset_statistics_configuration))
- `entity_detector_configuration` (Attributes) (see [below for nested schema](#nestedatt--profile_configuration--entity_detector_configuration))
- `profile_columns` (Attributes List) (see [below for nested schema](#nestedatt--profile_configuration--profile_columns))

<a id="nestedatt--profile_configuration--column_statistics_configurations"></a>
### Nested Schema for `profile_configuration.column_statistics_configurations`

Optional:

- `selectors` (Attributes List) (see [below for nested schema](#nestedatt--profile_configuration--column_statistics_configurations--selectors))
- `statistics` (Attributes) (see [below for nested schema](#nestedatt--profile_configuration--column_statistics_configurations--statistics))

<a id="nestedatt--profile_configuration--column_statistics_configurations--selectors"></a>
### Nested Schema for `profile_configuration.column_statistics_configurations.selectors`

Optional:

- `name` (String)
- `regex` (String)


<a id="nestedatt--profile_configuration--column_statistics_configurations--statistics"></a>
### Nested Schema for `profile_configuration.column_statistics_configurations.statistics`

Optional:

- `included_statistics` (List of String)
- `overrides` (Attributes List) (see [below for nested schema](#nestedatt--profile_configuration--column_statistics_configurations--statistics--overrides))

<a id="nestedatt--profile_configuration--column_statistics_configurations--statistics--overrides"></a>
### Nested Schema for `profile_configuration.column_statistics_configurations.statistics.overrides`

Optional:

- `parameters` (Map of String)
- `statistic` (String)




<a id="nestedatt--profile_configuration--dataset_statistics_configuration"></a>
### Nested Schema for `profile_configuration.dataset_statistics_configuration`

Optional:

- `included_statistics` (List of String)
- `overrides` (Attributes List) (see [below for nested schema](#nestedatt--profile_configuration--dataset_statistics_configuration--overrides))

<a id="nestedatt--profile_configuration--dataset_statistics_configuration--overrides"></a>
### Nested Schema for `profile_configuration.dataset_statistics_configuration.overrides`

Optional:

- `parameters` (Map of String)
- `statistic` (String)



<a id="nestedatt--profile_configuration--entity_detector_configuration"></a>
### Nested Schema for `profile_configuration.entity_detector_configuration`

Optional:

- `allowed_statistics` (Attributes) (see [below for nested schema](#nestedatt--profile_configuration--entity_detector_configuration--allowed_statistics))
- `entity_types` (List of String)

<a id="nestedatt--profile_configuration--entity_detector_configuration--allowed_statistics"></a>
### Nested Schema for `profile_configuration.entity_detector_configuration.allowed_statistics`

Optional:

- `statistics` (List of String)



<a id="nestedatt--profile_configuration--profile_columns"></a>
### Nested Schema for `profile_configuration.profile_columns`

Optional:

- `name` (String)
- `regex` (String)



<a id="nestedatt--recipe"></a>
### Nested Schema for `recipe`

Optional:

- `name` (String) Recipe name
- `version` (String) Recipe version


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedatt--validation_configurations"></a>
### Nested Schema for `validation_configurations`

Optional:

- `ruleset_arn` (String) Arn of the Ruleset
- `validation_mode` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_databrew_job.example
  identity = {
    name = "name"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `name` (String) Job name

#### Optional

- `account_id` (String) AWS Account where this resource is managed
- `region` (String) Region where this resource is managed

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_databrew_job.example
  id = "name"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_databrew_job.example "name"
```
