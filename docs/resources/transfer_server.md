
---
page_title: "awscc_transfer_server Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Definition of AWS::Transfer::Server Resource Type
---

# awscc_transfer_server (Resource)

Definition of AWS::Transfer::Server Resource Type

## Example Usage

### Public SFTP Transfer Server with CloudWatch Logging

Creates a public AWS Transfer Server for SFTP protocol with CloudWatch logging enabled, including the necessary IAM role and permissions for logging capability.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# CloudWatch Log Group for Transfer Server
resource "aws_cloudwatch_log_group" "transfer" {
  name              = "/aws/transfer/server"
  retention_in_days = 7
}

# IAM role for Transfer Server logging
data "aws_iam_policy_document" "transfer_assume_role" {
  statement {
    effect = "Allow"
    principals {
      type        = "Service"
      identifiers = ["transfer.amazonaws.com"]
    }
    actions = ["sts:AssumeRole"]
  }
}

data "aws_iam_policy_document" "transfer_logging" {
  statement {
    effect = "Allow"
    actions = [
      "logs:CreateLogStream",
      "logs:DescribeLogStreams",
      "logs:CreateLogGroup",
      "logs:PutLogEvents"
    ]
    resources = [
      "${aws_cloudwatch_log_group.transfer.arn}:*"
    ]
  }
}

resource "awscc_iam_role" "transfer_logging" {
  role_name                   = "transfer-server-logging-role"
  assume_role_policy_document = jsonencode(jsondecode(data.aws_iam_policy_document.transfer_assume_role.json))

  policies = [{
    policy_document = jsonencode(jsondecode(data.aws_iam_policy_document.transfer_logging.json))
    policy_name     = "transfer-server-logging"
  }]

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Transfer Server
resource "awscc_transfer_server" "sftp" {
  identity_provider_type = "SERVICE_MANAGED"
  protocols              = ["SFTP"]
  logging_role           = awscc_iam_role.transfer_logging.arn

  endpoint_type = "PUBLIC"

  protocol_details = {
    passive_ip = "0.0.0.0"
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `certificate` (String)
- `domain` (String)
- `endpoint_details` (Attributes) (see [below for nested schema](#nestedatt--endpoint_details))
- `endpoint_type` (String)
- `identity_provider_details` (Attributes) (see [below for nested schema](#nestedatt--identity_provider_details))
- `identity_provider_type` (String)
- `logging_role` (String)
- `post_authentication_login_banner` (String)
- `pre_authentication_login_banner` (String)
- `protocol_details` (Attributes) (see [below for nested schema](#nestedatt--protocol_details))
- `protocols` (List of String)
- `s3_storage_options` (Attributes) (see [below for nested schema](#nestedatt--s3_storage_options))
- `security_policy_name` (String)
- `structured_log_destinations` (List of String)
- `tags` (Attributes List) (see [below for nested schema](#nestedatt--tags))
- `workflow_details` (Attributes) (see [below for nested schema](#nestedatt--workflow_details))

### Read-Only

- `arn` (String)
- `as_2_service_managed_egress_ip_addresses` (List of String) The list of egress IP addresses of this server. These IP addresses are only relevant for servers that use the AS2 protocol. They are used for sending asynchronous MDNs. These IP addresses are assigned automatically when you create an AS2 server. Additionally, if you update an existing server and add the AS2 protocol, static IP addresses are assigned as well.
- `id` (String) Uniquely identifies the resource.
- `server_id` (String)
- `state` (String)

<a id="nestedatt--endpoint_details"></a>
### Nested Schema for `endpoint_details`

Optional:

- `address_allocation_ids` (List of String)
- `security_group_ids` (List of String)
- `subnet_ids` (List of String)
- `vpc_endpoint_id` (String)
- `vpc_id` (String)


<a id="nestedatt--identity_provider_details"></a>
### Nested Schema for `identity_provider_details`

Optional:

- `directory_id` (String)
- `function` (String)
- `invocation_role` (String)
- `sftp_authentication_methods` (String)
- `url` (String)


<a id="nestedatt--protocol_details"></a>
### Nested Schema for `protocol_details`

Optional:

- `as_2_transports` (List of String)
- `passive_ip` (String)
- `set_stat_option` (String)
- `tls_session_resumption_mode` (String)


<a id="nestedatt--s3_storage_options"></a>
### Nested Schema for `s3_storage_options`

Optional:

- `directory_listing_optimization` (String) Indicates whether optimization to directory listing on S3 servers is used. Disabled by default for compatibility.


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedatt--workflow_details"></a>
### Nested Schema for `workflow_details`

Optional:

- `on_partial_upload` (Attributes List) (see [below for nested schema](#nestedatt--workflow_details--on_partial_upload))
- `on_upload` (Attributes List) (see [below for nested schema](#nestedatt--workflow_details--on_upload))

<a id="nestedatt--workflow_details--on_partial_upload"></a>
### Nested Schema for `workflow_details.on_partial_upload`

Optional:

- `execution_role` (String)
- `workflow_id` (String)


<a id="nestedatt--workflow_details--on_upload"></a>
### Nested Schema for `workflow_details.on_upload`

Optional:

- `execution_role` (String)
- `workflow_id` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_transfer_server.example
  id = "arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_transfer_server.example "arn"
```
