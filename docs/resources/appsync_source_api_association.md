
---
page_title: "awscc_appsync_source_api_association Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource Type definition for AWS::AppSync::SourceApiAssociation
---

# awscc_appsync_source_api_association (Resource)

Resource Type definition for AWS::AppSync::SourceApiAssociation

## Example Usage

### AppSync Source API Association

Demonstrates how to associate a source GraphQL API with a merged AppSync API, including the setup of necessary IAM roles and policies for API merging capabilities.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# IAM role for AppSync merged API
resource "awscc_iam_role" "appsync_merged" {
  role_name = "appsync-merged-api-role"
  assume_role_policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Principal = {
          Service = "appsync.amazonaws.com"
        }
      }
    ]
  })

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# IAM role policy for AppSync merged API
resource "awscc_iam_role_policy" "appsync_merged" {
  role_name   = awscc_iam_role.appsync_merged.role_name
  policy_name = "appsync-merged-api-policy"
  policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Action = [
          "appsync:GetGraphqlApi",
          "appsync:GraphQL"
        ]
        Resource = [
          "*"
        ]
      }
    ]
  })
}

# Create source AppSync API
resource "aws_appsync_graphql_api" "source" {
  name                = "source-api"
  authentication_type = "API_KEY"
  schema              = "type Query { hello: String }"
  xray_enabled        = false
  api_type            = "GRAPHQL"

  tags = {
    "Modified By" = "AWSCC"
  }
}

# Create merged AppSync API
resource "aws_appsync_graphql_api" "merged" {
  name                          = "merged-api"
  authentication_type           = "API_KEY"
  xray_enabled                  = false
  api_type                      = "MERGED"
  merged_api_execution_role_arn = awscc_iam_role.appsync_merged.arn

  tags = {
    "Modified By" = "AWSCC"
  }
}

# Create the SourceApiAssociation
resource "awscc_appsync_source_api_association" "example" {
  source_api_identifier = aws_appsync_graphql_api.source.id
  merged_api_identifier = aws_appsync_graphql_api.merged.id
  description           = "Example source API association"
  source_api_association_config = {
    merge_type = "AUTO_MERGE"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `description` (String) Description of the SourceApiAssociation.
- `merged_api_identifier` (String) Identifier of the Merged GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN
- `source_api_association_config` (Attributes) Customized configuration for SourceApiAssociation. (see [below for nested schema](#nestedatt--source_api_association_config))
- `source_api_identifier` (String) Identifier of the Source GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN

### Read-Only

- `association_arn` (String) ARN of the SourceApiAssociation.
- `association_id` (String) Id of the SourceApiAssociation.
- `id` (String) Uniquely identifies the resource.
- `last_successful_merge_date` (String) Date of last schema successful merge.
- `merged_api_arn` (String) ARN of the Merged API in the association.
- `merged_api_id` (String) GraphQLApiId of the Merged API in the association.
- `source_api_arn` (String) ARN of the source API in the association.
- `source_api_association_status` (String) Current status of SourceApiAssociation.
- `source_api_association_status_detail` (String) Current SourceApiAssociation status details.
- `source_api_id` (String) GraphQLApiId of the source API in the association.

<a id="nestedatt--source_api_association_config"></a>
### Nested Schema for `source_api_association_config`

Optional:

- `merge_type` (String) Configuration of the merged behavior for the association. For example when it could be auto or has to be manual.

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_appsync_source_api_association.example
  identity = {
    association_arn = "association_arn"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `association_arn` (String) ARN of the SourceApiAssociation

#### Optional

- `account_id` (String) AWS Account where this resource is managed
- `region` (String) Region where this resource is managed

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_appsync_source_api_association.example
  id = "association_arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_appsync_source_api_association.example "association_arn"
```
