---
page_title: "awscc_apigatewayv2_integration Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  An example resource schema demonstrating some basic constructs and validation rules.
---

# awscc_apigatewayv2_integration (Resource)

An example resource schema demonstrating some basic constructs and validation rules.

## Example Usage

### API Gateway V2 Integration with Lambda
API Gateway V2 HTTP API integration with AWS Lambda function

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
resource "aws_iam_role" "lambda_role" {
  name = "example-lambda-role"

  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Action = "sts:AssumeRole"
      Effect = "Allow"
      Principal = {
        Service = "lambda.amazonaws.com"
      }
    }]
  })
}

resource "aws_lambda_function" "example" {
  function_name = "example-function"
  filename      = "lambda_function.zip"
  handler       = "index.handler"
  runtime       = "nodejs18.x"
  role          = aws_iam_role.lambda_role.arn
}

resource "awscc_apigatewayv2_api" "example" {
  name          = "example-api"
  protocol_type = "HTTP"

  tags = {
    Environment = "dev"
    Name        = "example-api"
  }
}

resource "awscc_apigatewayv2_integration" "example" {
  api_id           = awscc_apigatewayv2_api.example.id
  integration_type = "AWS_PROXY"

  integration_uri        = aws_lambda_function.example.arn
  integration_method     = "POST"
  payload_format_version = "2.0"

  description = "Lambda integration example"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_id` (String) The API identifier.
- `integration_type` (String) The integration type of an integration.

### Optional

- `connection_id` (String) The ID of the VPC link for a private integration. Supported only for HTTP APIs.
- `connection_type` (String) The type of the network connection to the integration endpoint. Specify INTERNET for connections through the public routable internet or VPC_LINK for private connections between API Gateway and resources in a VPC. The default value is INTERNET.
- `content_handling_strategy` (String) Supported only for WebSocket APIs. Specifies how to handle response payload content type conversions. Supported values are CONVERT_TO_BINARY and CONVERT_TO_TEXT.
- `credentials_arn` (String) Specifies the credentials required for the integration, if any. For AWS integrations, three options are available. To specify an IAM Role for API Gateway to assume, use the role's Amazon Resource Name (ARN). To require that the caller's identity be passed through from the request, specify the string arn:aws:iam::*:user/*. To use resource-based permissions on supported AWS services, don't specify this parameter.
- `description` (String) The description of the integration.
- `integration_method` (String) Specifies the integration's HTTP method type.
- `integration_subtype` (String) Supported only for HTTP API AWS_PROXY integrations. Specifies the AWS service action to invoke.
- `integration_uri` (String) For a Lambda integration, specify the URI of a Lambda function. For an HTTP integration, specify a fully-qualified URL. For an HTTP API private integration, specify the ARN of an Application Load Balancer listener, Network Load Balancer listener, or AWS Cloud Map service.
- `passthrough_behavior` (String) Specifies the pass-through behavior for incoming requests based on the Content-Type header in the request, and the available mapping templates specified as the requestTemplates property on the Integration resource. There are three valid values: WHEN_NO_MATCH, WHEN_NO_TEMPLATES, and NEVER. Supported only for WebSocket APIs.
- `payload_format_version` (String) Specifies the format of the payload sent to an integration. Required for HTTP APIs. For HTTP APIs, supported values for Lambda proxy integrations are 1.0 and 2.0 For all other integrations, 1.0 is the only supported value.
- `request_parameters` (Map of String) A key-value map specifying parameters.
- `request_templates` (Map of String) A map of Velocity templates that are applied on the request payload based on the value of the Content-Type header sent by the client.
- `response_parameters` (Attributes Map) Parameters that transform the HTTP response from a backend integration before returning the response to clients. Supported only for HTTP APIs. (see [below for nested schema](#nestedatt--response_parameters))
- `template_selection_expression` (String) The template selection expression for the integration. Supported only for WebSocket APIs.
- `timeout_in_millis` (Number) Custom timeout between 50 and 29000 milliseconds for WebSocket APIs and between 50 and 30000 milliseconds for HTTP APIs. The default timeout is 29 seconds for WebSocket APIs and 30 seconds for HTTP APIs.
- `tls_config` (Attributes) The TLS configuration for a private integration. If you specify a TLS configuration, private integration traffic uses the HTTPS protocol. Supported only for HTTP APIs. (see [below for nested schema](#nestedatt--tls_config))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `integration_id` (String) The integration ID.

<a id="nestedatt--response_parameters"></a>
### Nested Schema for `response_parameters`

Optional:

- `response_parameters` (Attributes List) list of response parameters (see [below for nested schema](#nestedatt--response_parameters--response_parameters))

<a id="nestedatt--response_parameters--response_parameters"></a>
### Nested Schema for `response_parameters.response_parameters`

Optional:

- `destination` (String)
- `source` (String)



<a id="nestedatt--tls_config"></a>
### Nested Schema for `tls_config`

Optional:

- `server_name_to_verify` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_apigatewayv2_integration.example
  identity = {
    api_id         = "api_id"
    integration_id = "integration_id"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `api_id` (String) The API identifier
- `integration_id` (String) The integration ID

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_apigatewayv2_integration.example
  id = "api_id|integration_id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_apigatewayv2_integration.example "api_id|integration_id"
```
