
---
page_title: "awscc_cloudfront_vpc_origin Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  An Amazon CloudFront VPC origin.
---

# awscc_cloudfront_vpc_origin (Resource)

An Amazon CloudFront VPC origin.

## Example Usage

### Configure CloudFront VPC Origin with Application Load Balancer

Creates a CloudFront VPC Origin endpoint that connects to an Application Load Balancer in a VPC, enabling secure HTTPS communication through TLS 1.2 while maintaining the infrastructure within the AWS network.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get AWS region and account details
data "aws_region" "current" {}

# Create VPC for the ALB
resource "awscc_ec2_vpc" "example" {
  cidr_block = "10.0.0.0/16"
  tags = [{
    key   = "Name"
    value = "vpc-origin-example"
  }]
}

# Create Internet Gateway
resource "aws_internet_gateway" "example" {
  vpc_id = awscc_ec2_vpc.example.id
  tags = {
    Name = "vpc-origin-igw"
  }
}

# Create public subnets
resource "awscc_ec2_subnet" "public1" {
  vpc_id                  = awscc_ec2_vpc.example.id
  cidr_block              = "10.0.1.0/24"
  availability_zone       = "${data.aws_region.current.name}a"
  map_public_ip_on_launch = true
  tags = [{
    key   = "Name"
    value = "vpc-origin-public1"
  }]
}

resource "awscc_ec2_subnet" "public2" {
  vpc_id                  = awscc_ec2_vpc.example.id
  cidr_block              = "10.0.2.0/24"
  availability_zone       = "${data.aws_region.current.name}b"
  map_public_ip_on_launch = true
  tags = [{
    key   = "Name"
    value = "vpc-origin-public2"
  }]
}

# Create route table for public subnets
resource "awscc_ec2_route_table" "public" {
  vpc_id = awscc_ec2_vpc.example.id
  tags = [{
    key   = "Name"
    value = "vpc-origin-public-rt"
  }]
}

# Create route to Internet Gateway
resource "aws_route" "public_internet_gateway" {
  route_table_id         = awscc_ec2_route_table.public.id
  destination_cidr_block = "0.0.0.0/0"
  gateway_id             = aws_internet_gateway.example.id
}

# Associate public subnets with public route table
resource "awscc_ec2_subnet_route_table_association" "public1" {
  subnet_id      = awscc_ec2_subnet.public1.id
  route_table_id = awscc_ec2_route_table.public.id
}

resource "awscc_ec2_subnet_route_table_association" "public2" {
  subnet_id      = awscc_ec2_subnet.public2.id
  route_table_id = awscc_ec2_route_table.public.id
}

# Create security group for ALB
resource "awscc_ec2_security_group" "alb" {
  group_description = "Security group for ALB"
  vpc_id            = awscc_ec2_vpc.example.id
  security_group_ingress = [
    {
      ip_protocol = "tcp"
      from_port   = 80
      to_port     = 80
      cidr_ip     = "0.0.0.0/0"
    },
    {
      ip_protocol = "tcp"
      from_port   = 443
      to_port     = 443
      cidr_ip     = "0.0.0.0/0"
    }
  ]
  tags = [{
    key   = "Name"
    value = "vpc-origin-alb-sg"
  }]
}

# Create ALB
resource "awscc_elasticloadbalancingv2_load_balancer" "example" {
  name = "vpc-origin-alb"
  security_groups = [
    awscc_ec2_security_group.alb.id
  ]
  subnets = [
    awscc_ec2_subnet.public1.id,
    awscc_ec2_subnet.public2.id
  ]
  scheme = "internet-facing"
  type   = "application"
  tags = [{
    key   = "Name"
    value = "vpc-origin-alb"
  }]
}

# Create VPC Origin for CloudFront
resource "awscc_cloudfront_vpc_origin" "example" {
  vpc_origin_endpoint_config = {
    arn                    = awscc_elasticloadbalancingv2_load_balancer.example.load_balancer_arn
    name                   = "example-vpc-origin"
    http_port              = 80
    https_port             = 443
    origin_protocol_policy = "https-only"
    origin_ssl_protocols   = ["TLSv1.2"]
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `vpc_origin_endpoint_config` (Attributes) The VPC origin endpoint configuration. (see [below for nested schema](#nestedatt--vpc_origin_endpoint_config))

### Optional

- `tags` (Attributes List) A complex type that contains zero or more ``Tag`` elements. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `arn` (String)
- `created_time` (String)
- `id` (String) Uniquely identifies the resource.
- `last_modified_time` (String)
- `status` (String)
- `vpc_origin_id` (String)

<a id="nestedatt--vpc_origin_endpoint_config"></a>
### Nested Schema for `vpc_origin_endpoint_config`

Required:

- `arn` (String) The ARN of the CloudFront VPC origin endpoint configuration.
- `name` (String) The name of the CloudFront VPC origin endpoint configuration.

Optional:

- `http_port` (Number) The HTTP port for the CloudFront VPC origin endpoint configuration. The default value is ``80``.
- `https_port` (Number) The HTTPS port of the CloudFront VPC origin endpoint configuration. The default value is ``443``.
- `origin_protocol_policy` (String) The origin protocol policy for the CloudFront VPC origin endpoint configuration.
- `origin_ssl_protocols` (List of String) Specifies the minimum SSL/TLS protocol that CloudFront uses when connecting to your origin over HTTPS. Valid values include ``SSLv3``, ``TLSv1``, ``TLSv1.1``, and ``TLSv1.2``.
 For more information, see [Minimum Origin SSL Protocol](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/DownloadDistValuesOrigin.html#DownloadDistValuesOriginSSLProtocols) in the *Amazon CloudFront Developer Guide*.


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) A string that contains ``Tag`` key.
 The string length should be between 1 and 128 characters. Valid characters include ``a-z``, ``A-Z``, ``0-9``, space, and the special characters ``_ - . : / = + @``.
- `value` (String) A string that contains an optional ``Tag`` value.
 The string length should be between 0 and 256 characters. Valid characters include ``a-z``, ``A-Z``, ``0-9``, space, and the special characters ``_ - . : / = + @``.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_cloudfront_vpc_origin.example
  id = "id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_cloudfront_vpc_origin.example "id"
```
