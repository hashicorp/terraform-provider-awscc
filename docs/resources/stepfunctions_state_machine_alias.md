
---
page_title: "awscc_stepfunctions_state_machine_alias Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource schema for StateMachineAlias
---

# awscc_stepfunctions_state_machine_alias (Resource)

Resource schema for StateMachineAlias

## Example Usage

### Step Functions State Machine Alias Management

Creates a Step Functions state machine alias named 'prod' with routing configuration that directs 100% of traffic to a specified state machine version.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
data "aws_region" "current" {}

data "aws_iam_policy_document" "assume_role" {
  statement {
    effect = "Allow"

    principals {
      type        = "Service"
      identifiers = ["states.${data.aws_region.current.name}.amazonaws.com"]
    }

    actions = ["sts:AssumeRole"]
  }
}

# Create IAM role for Step Functions
resource "awscc_iam_role" "step_function_role" {
  assume_role_policy_document = data.aws_iam_policy_document.assume_role.json
  description                 = "Role for Step Functions State Machine"
  path                        = "/"
  role_name                   = "MyStepFunctionsRole"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create Step Functions State Machine
resource "awscc_stepfunctions_state_machine" "example" {
  role_arn = awscc_iam_role.step_function_role.arn
  definition = jsonencode({
    "Comment" : "A Hello World example",
    "StartAt" : "HelloWorld",
    "States" : {
      "HelloWorld" : {
        "Type" : "Pass",
        "End" : true
      }
    }
  })
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create State Machine Version
resource "awscc_stepfunctions_state_machine_version" "example" {
  state_machine_arn = awscc_stepfunctions_state_machine.example.arn
  description       = "Initial version"
}

# Create State Machine Alias
resource "awscc_stepfunctions_state_machine_alias" "example" {
  name        = "prod"
  description = "Production alias for the state machine"

  routing_configuration = [{
    state_machine_version_arn = awscc_stepfunctions_state_machine_version.example.arn
    weight                    = 100
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `deployment_preference` (Attributes) The settings to enable gradual state machine deployments. (see [below for nested schema](#nestedatt--deployment_preference))
- `description` (String) An optional description of the alias.
- `name` (String) The alias name.
- `routing_configuration` (Attributes Set) The routing configuration of the alias. One or two versions can be mapped to an alias to split StartExecution requests of the same state machine. (see [below for nested schema](#nestedatt--routing_configuration))

### Read-Only

- `arn` (String) The ARN of the alias.
- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--deployment_preference"></a>
### Nested Schema for `deployment_preference`

Optional:

- `alarms` (Set of String) A list of CloudWatch alarm names that will be monitored during the deployment. The deployment will fail and rollback if any alarms go into ALARM state.
- `interval` (Number) The time in minutes between each traffic shifting increment.
- `percentage` (Number) The percentage of traffic to shift to the new version in each increment.
- `state_machine_version_arn` (String)
- `type` (String) The type of deployment to perform.


<a id="nestedatt--routing_configuration"></a>
### Nested Schema for `routing_configuration`

Optional:

- `state_machine_version_arn` (String) The Amazon Resource Name (ARN) that identifies one or two state machine versions defined in the routing configuration.
- `weight` (Number) The percentage of traffic you want to route to the state machine version. The sum of the weights in the routing configuration must be equal to 100.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_stepfunctions_state_machine_alias.example
  id = "arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_stepfunctions_state_machine_alias.example "arn"
```
