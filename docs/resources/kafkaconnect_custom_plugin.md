
---
page_title: "awscc_kafkaconnect_custom_plugin Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  An example resource schema demonstrating some basic constructs and validation rules.
---

# awscc_kafkaconnect_custom_plugin (Resource)

An example resource schema demonstrating some basic constructs and validation rules.

## Example Usage

### Kafka Connect Custom Plugin with S3 Storage

Creates a Kafka Connect custom plugin configuration with an auto-generated S3 bucket for plugin storage, including necessary bucket policies to allow access from the Kafka Connect service.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get current AWS region and account information
data "aws_region" "current" {}
data "aws_caller_identity" "current" {}

# Create an S3 bucket to store the plugin file
resource "awscc_s3_bucket" "plugin_bucket" {
  bucket_name = "kafka-connect-plugins-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}"
}

# Create bucket policy for plugin access
data "aws_iam_policy_document" "bucket_policy" {
  statement {
    effect = "Allow"
    principals {
      type        = "Service"
      identifiers = ["kafkaconnect.amazonaws.com"]
    }
    actions = [
      "s3:GetObject",
      "s3:GetObjectVersion"
    ]
    resources = [
      "${awscc_s3_bucket.plugin_bucket.arn}/*"
    ]
  }
}

# Attach policy to the bucket
resource "awscc_s3_bucket_policy" "plugin_bucket_policy" {
  bucket          = awscc_s3_bucket.plugin_bucket.id
  policy_document = jsonencode(jsondecode(data.aws_iam_policy_document.bucket_policy.json))
}

# Create the Kafka Connect custom plugin
resource "awscc_kafkaconnect_custom_plugin" "example" {
  name         = "example-kafka-connect-plugin"
  content_type = "JAR"
  description  = "Example Kafka Connect custom plugin"

  location = {
    s3_location = {
      bucket_arn = awscc_s3_bucket.plugin_bucket.arn
      file_key   = "plugins/example-plugin.jar"
    }
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `content_type` (String) The type of the plugin file.
- `location` (Attributes) Information about the location of a custom plugin. (see [below for nested schema](#nestedatt--location))
- `name` (String) The name of the custom plugin.

### Optional

- `description` (String) A summary description of the custom plugin.
- `tags` (Attributes List) An array of key-value pairs to apply to this resource. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `custom_plugin_arn` (String) The Amazon Resource Name (ARN) of the custom plugin to use.
- `file_description` (Attributes) Details about the custom plugin file. (see [below for nested schema](#nestedatt--file_description))
- `id` (String) Uniquely identifies the resource.
- `revision` (Number) The revision of the custom plugin.

<a id="nestedatt--location"></a>
### Nested Schema for `location`

Required:

- `s3_location` (Attributes) The S3 bucket Amazon Resource Name (ARN), file key, and object version of the plugin file stored in Amazon S3. (see [below for nested schema](#nestedatt--location--s3_location))

<a id="nestedatt--location--s3_location"></a>
### Nested Schema for `location.s3_location`

Required:

- `bucket_arn` (String) The Amazon Resource Name (ARN) of an S3 bucket.
- `file_key` (String) The file key for an object in an S3 bucket.

Optional:

- `object_version` (String) The version of an object in an S3 bucket.



<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.


<a id="nestedatt--file_description"></a>
### Nested Schema for `file_description`

Read-Only:

- `file_md_5` (String) The hex-encoded MD5 checksum of the custom plugin file. You can use it to validate the file.
- `file_size` (Number) The size in bytes of the custom plugin file. You can use it to validate the file.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_kafkaconnect_custom_plugin.example
  id = "custom_plugin_arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_kafkaconnect_custom_plugin.example "custom_plugin_arn"
```
