
---
page_title: "awscc_appsync_api Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource schema for AppSync Api
---

# awscc_appsync_api (Resource)

Resource schema for AppSync Api

## Example Usage

### AppSync API with CloudWatch Logging

Creates an AppSync API with API key authentication and CloudWatch logging configuration, supported by an IAM role that enables logging capabilities.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get current AWS region
data "aws_region" "current" {}

# Get current AWS account ID
data "aws_caller_identity" "current" {}

# IAM role for CloudWatch logging
resource "awscc_iam_role" "appsync_logs" {
  role_name = "appsync-logs-role"
  assume_role_policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Principal = {
          Service = "appsync.amazonaws.com"
        }
      }
    ]
  })

  policies = [
    {
      policy_name = "appsync-cloudwatch-logs"
      policy_document = jsonencode({
        Version = "2012-10-17"
        Statement = [
          {
            Effect = "Allow"
            Action = [
              "logs:CreateLogGroup",
              "logs:CreateLogStream",
              "logs:PutLogEvents"
            ]
            Resource = [
              "arn:aws:logs:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:log-group:/aws/appsync/*:*"
            ]
          }
        ]
      })
    }
  ]
}

# AppSync API
resource "awscc_appsync_api" "example" {
  name = "example-event-api"

  event_config = {
    log_config = {
      cloudwatch_logs_role_arn = awscc_iam_role.appsync_logs.arn
      log_level                = "INFO"
    }
    auth_providers = [
      {
        auth_type = "API_KEY"
      }
    ]
    connection_auth_modes = [
      {
        auth_type = "API_KEY"
      }
    ]
    default_publish_auth_modes = [
      {
        auth_type = "API_KEY"
      }
    ]
    default_subscribe_auth_modes = [
      {
        auth_type = "API_KEY"
      }
    ]
  }

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Output the AppSync API ID and ARN
output "api_id" {
  value = awscc_appsync_api.example.api_id
}

output "api_arn" {
  value = awscc_appsync_api.example.api_arn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the AppSync API.

### Optional

- `event_config` (Attributes) The configuration for an Event Api (see [below for nested schema](#nestedatt--event_config))
- `owner_contact` (String) The owner contact information for an API resource.
- `tags` (Attributes Set) An arbitrary set of tags (key-value pairs) for this AppSync API. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `api_arn` (String) The Amazon Resource Name (ARN) of the AppSync Api
- `api_id` (String) The unique identifier for the AppSync Api generated by the service
- `dns` (Attributes) A map of DNS names for the AppSync API. (see [below for nested schema](#nestedatt--dns))
- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--event_config"></a>
### Nested Schema for `event_config`

Optional:

- `auth_providers` (Attributes List) A list of auth providers for the AppSync API. (see [below for nested schema](#nestedatt--event_config--auth_providers))
- `connection_auth_modes` (Attributes List) A list of auth modes for the AppSync API. (see [below for nested schema](#nestedatt--event_config--connection_auth_modes))
- `default_publish_auth_modes` (Attributes List) A list of auth modes for the AppSync API. (see [below for nested schema](#nestedatt--event_config--default_publish_auth_modes))
- `default_subscribe_auth_modes` (Attributes List) A list of auth modes for the AppSync API. (see [below for nested schema](#nestedatt--event_config--default_subscribe_auth_modes))
- `log_config` (Attributes) The log config for the AppSync API. (see [below for nested schema](#nestedatt--event_config--log_config))

<a id="nestedatt--event_config--auth_providers"></a>
### Nested Schema for `event_config.auth_providers`

Optional:

- `auth_type` (String) Security configuration for your AppSync API.
- `cognito_config` (Attributes) Optional authorization configuration for using Amazon Cognito user pools with your API endpoint. (see [below for nested schema](#nestedatt--event_config--auth_providers--cognito_config))
- `lambda_authorizer_config` (Attributes) A LambdaAuthorizerConfig holds configuration on how to authorize AWS AppSync API access when using the AWS_LAMBDA authorizer mode. Be aware that an AWS AppSync API may have only one Lambda authorizer configured at a time. (see [below for nested schema](#nestedatt--event_config--auth_providers--lambda_authorizer_config))
- `open_id_connect_config` (Attributes) The OpenID Connect configuration. (see [below for nested schema](#nestedatt--event_config--auth_providers--open_id_connect_config))

<a id="nestedatt--event_config--auth_providers--cognito_config"></a>
### Nested Schema for `event_config.auth_providers.cognito_config`

Optional:

- `app_id_client_regex` (String)
- `aws_region` (String)
- `user_pool_id` (String)


<a id="nestedatt--event_config--auth_providers--lambda_authorizer_config"></a>
### Nested Schema for `event_config.auth_providers.lambda_authorizer_config`

Optional:

- `authorizer_result_ttl_in_seconds` (Number)
- `authorizer_uri` (String)
- `identity_validation_expression` (String)


<a id="nestedatt--event_config--auth_providers--open_id_connect_config"></a>
### Nested Schema for `event_config.auth_providers.open_id_connect_config`

Optional:

- `auth_ttl` (Number)
- `client_id` (String)
- `iat_ttl` (Number)
- `issuer` (String)



<a id="nestedatt--event_config--connection_auth_modes"></a>
### Nested Schema for `event_config.connection_auth_modes`

Optional:

- `auth_type` (String) Security configuration for your AppSync API.


<a id="nestedatt--event_config--default_publish_auth_modes"></a>
### Nested Schema for `event_config.default_publish_auth_modes`

Optional:

- `auth_type` (String) Security configuration for your AppSync API.


<a id="nestedatt--event_config--default_subscribe_auth_modes"></a>
### Nested Schema for `event_config.default_subscribe_auth_modes`

Optional:

- `auth_type` (String) Security configuration for your AppSync API.


<a id="nestedatt--event_config--log_config"></a>
### Nested Schema for `event_config.log_config`

Optional:

- `cloudwatch_logs_role_arn` (String)
- `log_level` (String) Logging level for the AppSync API.



<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) A string used to identify this tag. You can specify a maximum of 128 characters for a tag key.
- `value` (String) A string containing the value for this tag. You can specify a maximum of 256 characters for a tag value.


<a id="nestedatt--dns"></a>
### Nested Schema for `dns`

Read-Only:

- `http` (String)
- `realtime` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_appsync_api.example
  id = "api_arn"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_appsync_api.example "api_arn"
```
