
---
page_title: "awscc_rolesanywhere_profile Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Definition of AWS::RolesAnywhere::Profile Resource Type
---

# awscc_rolesanywhere_profile (Resource)

Definition of AWS::RolesAnywhere::Profile Resource Type

## Example Usage

### Create RolesAnywhere Profile with IAM Role

Creates a RolesAnywhere profile with a duration of 1 hour, linked to an IAM role that allows S3 bucket listing, and includes a session policy to restrict permissions.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Create IAM Role for RolesAnywhere to assume
data "aws_iam_policy_document" "trust" {
  statement {
    effect = "Allow"
    actions = [
      "sts:AssumeRole",
      "sts:TagSession",
      "sts:SetSourceIdentity"
    ]
    principals {
      type = "Service"
      identifiers = [
        "rolesanywhere.amazonaws.com"
      ]
    }
  }
}

data "aws_iam_policy_document" "permissions" {
  statement {
    effect = "Allow"
    actions = [
      "s3:ListAllMyBuckets"
    ]
    resources = ["*"]
  }
}

resource "awscc_iam_role" "example" {
  role_name                   = "rolesanywhere-profile-example"
  assume_role_policy_document = data.aws_iam_policy_document.trust.json
  description                 = "Example role for RolesAnywhere profile"
  managed_policy_arns         = []
  max_session_duration        = 3600
  path                        = "/"
  permissions_boundary        = null
  policies = [{
    policy_document = data.aws_iam_policy_document.permissions.json
    policy_name     = "rolesanywhere-example-inline"
  }]
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create RolesAnywhere Profile
resource "awscc_rolesanywhere_profile" "example" {
  name             = "example-profile"
  role_arns        = [awscc_iam_role.example.arn]
  duration_seconds = 3600
  enabled          = true
  session_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Action = [
        "s3:ListAllMyBuckets"
      ]
      Resource = "*"
    }]
  })
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)
- `role_arns` (List of String)

### Optional

- `accept_role_session_name` (Boolean)
- `attribute_mappings` (Attributes List) (see [below for nested schema](#nestedatt--attribute_mappings))
- `duration_seconds` (Number)
- `enabled` (Boolean)
- `managed_policy_arns` (List of String)
- `require_instance_properties` (Boolean)
- `session_policy` (String)
- `tags` (Attributes List) (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `profile_arn` (String)
- `profile_id` (String)

<a id="nestedatt--attribute_mappings"></a>
### Nested Schema for `attribute_mappings`

Optional:

- `certificate_field` (String)
- `mapping_rules` (Attributes List) (see [below for nested schema](#nestedatt--attribute_mappings--mapping_rules))

<a id="nestedatt--attribute_mappings--mapping_rules"></a>
### Nested Schema for `attribute_mappings.mapping_rules`

Optional:

- `specifier` (String)



<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_rolesanywhere_profile.example "profile_id"
```
