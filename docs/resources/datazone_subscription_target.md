
---
page_title: "awscc_datazone_subscription_target Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Subscription targets enables one to access the data to which you have subscribed in your projects.
---

# awscc_datazone_subscription_target (Resource)

Subscription targets enables one to access the data to which you have subscribed in your projects.

## Example Usage

### Configure DataZone S3 Subscription Target

Creates a DataZone subscription target for S3 with required IAM roles and policies, enabling secure data access and management within an AWS DataZone environment.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Data sources to get current AWS region and account ID
data "aws_region" "current" {}
data "aws_caller_identity" "current" {}

# IAM Role for DataZone subscription target
resource "awscc_iam_role" "datazone_subscription_target" {
  role_name = "DataZoneSubscriptionTargetRole"
  assume_role_policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Principal = {
          Service = "datazone.amazonaws.com"
        }
        Action = "sts:AssumeRole"
      }
    ]
  })
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

resource "aws_iam_role_policy" "datazone_subscription_target" {
  name = "DataZoneSubscriptionTargetPolicy"
  role = awscc_iam_role.datazone_subscription_target.id

  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Action = [
          "s3:GetObject",
          "s3:PutObject",
          "s3:DeleteObject",
          "s3:ListBucket"
        ]
        Resource = [
          "arn:aws:s3:::datazone-subscription-*",
          "arn:aws:s3:::datazone-subscription-*/*"
        ]
      }
    ]
  })
}

# DataZone Subscription Target
resource "awscc_datazone_subscription_target" "example" {
  name                   = "example-subscription-target"
  domain_identifier      = "dzd_example123456" # Replace with actual domain ID
  environment_identifier = "env-example123456" # Replace with actual environment ID
  type                   = "S3"
  provider_name          = "AWS"

  applicable_asset_types = ["DATA_CATALOG"]
  authorized_principals  = [data.aws_caller_identity.current.arn]
  manage_access_role     = awscc_iam_role.datazone_subscription_target.arn

  subscription_target_config = [
    {
      form_name = "AWS_S3_CONFIGURATION"
      content = jsonencode({
        bucket = "datazone-subscription-${data.aws_caller_identity.current.account_id}"
        region = data.aws_region.current.name
      })
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `applicable_asset_types` (List of String) The asset types that can be included in the subscription target.
- `authorized_principals` (List of String) The authorized principals of the subscription target.
- `domain_identifier` (String) The ID of the Amazon DataZone domain in which subscription target would be created.
- `environment_identifier` (String) The ID of the environment in which subscription target would be created.
- `name` (String) The name of the subscription target.
- `subscription_target_config` (Attributes List) The configuration of the subscription target. (see [below for nested schema](#nestedatt--subscription_target_config))
- `type` (String) The type of the subscription target.

### Optional

- `manage_access_role` (String) The manage access role that is used to create the subscription target.
- `provider_name` (String) The provider of the subscription target.

### Read-Only

- `created_at` (String) The timestamp of when the subscription target was created.
- `created_by` (String) The Amazon DataZone user who created the subscription target.
- `domain_id` (String) The ID of the Amazon DataZone domain in which subscription target is created.
- `environment_id` (String) The ID of the environment in which subscription target is created.
- `id` (String) Uniquely identifies the resource.
- `project_id` (String) The identifier of the project specified in the subscription target.
- `subscription_target_id` (String) The ID of the subscription target.
- `updated_at` (String) The timestamp of when the subscription target was updated.
- `updated_by` (String) The Amazon DataZone user who updated the subscription target.

<a id="nestedatt--subscription_target_config"></a>
### Nested Schema for `subscription_target_config`

Required:

- `content` (String) The content of the subscription target configuration.
- `form_name` (String) The form name included in the subscription target configuration.

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = awscc_datazone_subscription_target.example
  identity = {
    domain_id      = "domain_id"
    environment_id = "environment_id"
    id             = "id"
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema

#### Required

- `domain_id` (String) The ID of the Amazon DataZone domain in which subscription target is created
- `environment_id` (String) The ID of the environment in which subscription target is created
- `id` (String) The ID of the subscription target

#### Optional

- `account_id` (String) The ID of the AWS account
- `region` (String) The AWS region where the resource is located

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_datazone_subscription_target.example
  id = "domain_id|environment_id|id"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_datazone_subscription_target.example "domain_id|environment_id|id"
```
