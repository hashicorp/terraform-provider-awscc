---
page_title: "awscc_osis_pipeline Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  An OpenSearch Ingestion Service Data Prepper pipeline running Data Prepper.
---

# awscc_osis_pipeline (Resource)

An OpenSearch Ingestion Service Data Prepper pipeline running Data Prepper.

## Example Usage

### Basic usage - create pipeline with file
```terraform
resource "awscc_osis_pipeline" "example_pipeline" {
  pipeline_name = "example-pipeline"
  min_units     = 1
  max_units     = 4

  pipeline_configuration_body = file("example-pipeline.yaml")
}
```

### Advanced usage - create pipeline with file and logging enabled
```terraform
resource "awscc_logs_log_group" "log_group" {
  log_group_name = "/aws/vendedlogs/OpenSearchIngestion/example-pipeline/audit-logs"
}

resource "awscc_osis_pipeline" "example_pipeline" {
  pipeline_name = "example-pipeline"
  min_units     = 1
  max_units     = 4

  pipeline_configuration_body = file("example-pipeline.yaml")

  log_publishing_options = {
    is_logging_enabled = true
    cloudwatch_log_destination = {
      log_group = awscc_logs_log_group.log_group.log_group_name
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `max_units` (Number) The maximum pipeline capacity, in Ingestion OpenSearch Compute Units (OCUs).
- `min_units` (Number) The minimum pipeline capacity, in Ingestion OpenSearch Compute Units (OCUs).
- `pipeline_configuration_body` (String) The Data Prepper pipeline configuration.
- `pipeline_name` (String) Name of the OpenSearch Ingestion Service pipeline to create. Pipeline names are unique across the pipelines owned by an account within an AWS Region.

### Optional

- `buffer_options` (Attributes) Key-value pairs to configure buffering. (see [below for nested schema](#nestedatt--buffer_options))
- `encryption_at_rest_options` (Attributes) Key-value pairs to configure encryption at rest. (see [below for nested schema](#nestedatt--encryption_at_rest_options))
- `log_publishing_options` (Attributes) Key-value pairs to configure log publishing. (see [below for nested schema](#nestedatt--log_publishing_options))
- `tags` (Attributes Set) An array of key-value pairs to apply to this resource. (see [below for nested schema](#nestedatt--tags))
- `vpc_options` (Attributes) Container for the values required to configure VPC access for the pipeline. If you don't specify these values, OpenSearch Ingestion Service creates the pipeline with a public endpoint. (see [below for nested schema](#nestedatt--vpc_options))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `ingest_endpoint_urls` (List of String) A list of endpoints that can be used for ingesting data into a pipeline
- `pipeline_arn` (String) The Amazon Resource Name (ARN) of the pipeline.
- `vpc_endpoint_service` (String) The VPC endpoint service name for the pipeline.
- `vpc_endpoints` (Attributes List) The VPC interface endpoints that have access to the pipeline. (see [below for nested schema](#nestedatt--vpc_endpoints))

<a id="nestedatt--buffer_options"></a>
### Nested Schema for `buffer_options`

Optional:

- `persistent_buffer_enabled` (Boolean) Whether persistent buffering should be enabled.


<a id="nestedatt--encryption_at_rest_options"></a>
### Nested Schema for `encryption_at_rest_options`

Optional:

- `kms_key_arn` (String) The KMS key to use for encrypting data. By default an AWS owned key is used


<a id="nestedatt--log_publishing_options"></a>
### Nested Schema for `log_publishing_options`

Optional:

- `cloudwatch_log_destination` (Attributes) The destination for OpenSearch Ingestion Service logs sent to Amazon CloudWatch. (see [below for nested schema](#nestedatt--log_publishing_options--cloudwatch_log_destination))
- `is_logging_enabled` (Boolean) Whether logs should be published.

<a id="nestedatt--log_publishing_options--cloudwatch_log_destination"></a>
### Nested Schema for `log_publishing_options.cloudwatch_log_destination`

Optional:

- `log_group` (String)



<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.


<a id="nestedatt--vpc_options"></a>
### Nested Schema for `vpc_options`

Optional:

- `security_group_ids` (List of String) A list of security groups associated with the VPC endpoint.
- `subnet_ids` (List of String) A list of subnet IDs associated with the VPC endpoint.
- `vpc_attachment_options` (Attributes) Options for attaching a VPC to the pipeline. (see [below for nested schema](#nestedatt--vpc_options--vpc_attachment_options))
- `vpc_endpoint_management` (String) Defines whether you or Amazon OpenSearch Ingestion service create and manage the VPC endpoint configured for the pipeline.

<a id="nestedatt--vpc_options--vpc_attachment_options"></a>
### Nested Schema for `vpc_options.vpc_attachment_options`

Optional:

- `attach_to_vpc` (Boolean) Whether the pipeline should be attached to the provided VPC
- `cidr_block` (String) The CIDR block to be reserved for OpenSearch Ingestion to create elastic network interfaces (ENIs).



<a id="nestedatt--vpc_endpoints"></a>
### Nested Schema for `vpc_endpoints`

Read-Only:

- `vpc_endpoint_id` (String) The unique identifier of the endpoint.
- `vpc_id` (String) The ID for your VPC. AWS Privatelink generates this value when you create a VPC.
- `vpc_options` (Attributes) Container for the values required to configure VPC access for the pipeline. If you don't specify these values, OpenSearch Ingestion Service creates the pipeline with a public endpoint. (see [below for nested schema](#nestedatt--vpc_endpoints--vpc_options))

<a id="nestedatt--vpc_endpoints--vpc_options"></a>
### Nested Schema for `vpc_endpoints.vpc_options`

Read-Only:

- `security_group_ids` (List of String) A list of security groups associated with the VPC endpoint.
- `subnet_ids` (List of String) A list of subnet IDs associated with the VPC endpoint.
- `vpc_attachment_options` (Attributes) Options for attaching a VPC to the pipeline. (see [below for nested schema](#nestedatt--vpc_endpoints--vpc_options--vpc_attachment_options))
- `vpc_endpoint_management` (String) Defines whether you or Amazon OpenSearch Ingestion service create and manage the VPC endpoint configured for the pipeline.

<a id="nestedatt--vpc_endpoints--vpc_options--vpc_attachment_options"></a>
### Nested Schema for `vpc_endpoints.vpc_options.vpc_attachment_options`

Read-Only:

- `attach_to_vpc` (Boolean) Whether the pipeline should be attached to the provided VPC
- `cidr_block` (String) The CIDR block to be reserved for OpenSearch Ingestion to create elastic network interfaces (ENIs).

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_osis_pipeline.example "pipeline_arn"
```