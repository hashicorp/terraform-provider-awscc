---
page_title: "awscc_ecs_cluster_capacity_provider_associations Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Associate a set of ECS Capacity Providers with a specified ECS Cluster
---

# awscc_ecs_cluster_capacity_provider_associations (Resource)

Associate a set of ECS Capacity Providers with a specified ECS Cluster

## Example Usage

### Default capacity provider strategy enabled

Manages the capacity providers of an ECS Cluster. 

```terraform
resource "awscc_ecs_cluster_capacity_provider_associations" "example" {
  cluster            = awscc_ecs_cluster.example.name
  capacity_providers = ["FARGATE", "FARGATE_SPOT"]

  default_capacity_provider_strategy = [{
    capacity_provider = "FARGATE"
    base = 1
    weight = 100

  }]
}
```

### Auto Scaling group capacity provider

Manages the capacity providers of an ECS Cluster. Note that AWS Provider resource for [aws_autoscaling_group](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/autoscaling_group) is used.

```terraform
resource "awscc_ecs_cluster_capacity_provider_associations" "example" {
  cluster            = awscc_ecs_cluster.example.name
  capacity_providers = [awscc_ecs_capacity_provider.example.id]
}

resource "awscc_ecs_capacity_provider" "example" {
  name = "example"

  auto_scaling_group_provider = {
    auto_scaling_group_arn         = aws_autoscaling_group.example.arn
    managed_termination_protection = "ENABLED"

    managed_scaling = {
      maximum_scaling_step_size = 1000
      minimum_scaling_step_size = 1
      status                    = "ENABLED"
      target_capacity           = 10
    }
  }
  lifecycle {
    ignore_changes = [auto_scaling_group_provider.auto_scaling_group_arn]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `capacity_providers` (List of String) List of capacity providers to associate with the cluster
- `cluster` (String) The name of the cluster
- `default_capacity_provider_strategy` (Attributes List) List of capacity providers to associate with the cluster (see [below for nested schema](#nestedatt--default_capacity_provider_strategy))

### Read-Only

- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--default_capacity_provider_strategy"></a>
### Nested Schema for `default_capacity_provider_strategy`

Required:

- `capacity_provider` (String) If using ec2 auto-scaling, the name of the associated capacity provider. Otherwise FARGATE, FARGATE_SPOT.

Optional:

- `base` (Number)
- `weight` (Number)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = awscc_ecs_cluster_capacity_provider_associations.example
  id = "cluster"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
$ terraform import awscc_ecs_cluster_capacity_provider_associations.example "cluster"
```