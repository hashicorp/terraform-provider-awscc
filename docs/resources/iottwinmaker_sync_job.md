
---
page_title: "awscc_iottwinmaker_sync_job Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource schema for AWS::IoTTwinMaker::SyncJob
---

# awscc_iottwinmaker_sync_job (Resource)

Resource schema for AWS::IoTTwinMaker::SyncJob

## Example Usage

### IoT TwinMaker Sync Job with Workspace

Creates an IoT TwinMaker sync job with necessary IAM roles and a workspace, enabling data synchronization from an S3 bucket source to IoT TwinMaker workspace.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Create IAM role for sync job
data "aws_iam_policy_document" "assume_role" {
  statement {
    actions = ["sts:AssumeRole"]
    principals {
      type        = "Service"
      identifiers = ["iottwinmaker.amazonaws.com"]
    }
  }
}

data "aws_iam_policy_document" "sync_job_policy" {
  statement {
    effect = "Allow"
    actions = [
      "s3:GetObject",
      "s3:PutObject",
      "s3:ListBucket"
    ]
    resources = ["arn:aws:s3:::example-bucket/*", "arn:aws:s3:::example-bucket"]
  }
  statement {
    effect = "Allow"
    actions = [
      "iottwinmaker:*"
    ]
    resources = ["*"]
  }
}

resource "awscc_iam_role" "sync_job_role" {
  assume_role_policy_document = jsonencode(jsondecode(data.aws_iam_policy_document.assume_role.json))
  description                 = "Role for IoT TwinMaker sync job"
  role_name                   = "IoTTwinMakerSyncJobRole"

  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

resource "awscc_iam_role_policy" "sync_job_policy" {
  policy_document = jsonencode(jsondecode(data.aws_iam_policy_document.sync_job_policy.json))
  policy_name     = "IoTTwinMakerSyncJobPolicy"
  role_name       = awscc_iam_role.sync_job_role.role_name
}

# Wait for role propagation
resource "time_sleep" "wait_30_seconds" {
  depends_on      = [awscc_iam_role.sync_job_role]
  create_duration = "30s"
}

# Create IoT TwinMaker workspace (required for sync job)
resource "awscc_iottwinmaker_workspace" "example" {
  depends_on   = [time_sleep.wait_30_seconds]
  workspace_id = "example-workspace"
  role         = awscc_iam_role.sync_job_role.arn
  s3_location  = "arn:aws:s3:::example-bucket"

  tags = {
    "Modified By" = "AWSCC"
  }
}

# Create the sync job
resource "awscc_iottwinmaker_sync_job" "example" {
  workspace_id = awscc_iottwinmaker_workspace.example.workspace_id
  sync_role    = awscc_iam_role.sync_job_role.arn
  sync_source  = "arn:aws:s3:::example-bucket/sync-data"

  tags = {
    "Modified By" = "AWSCC"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `sync_role` (String) The IAM Role that execute SyncJob.
- `sync_source` (String) The source of the SyncJob.
- `workspace_id` (String) The ID of the workspace.

### Optional

- `tags` (Map of String) A key-value pair to associate with a resource.

### Read-Only

- `arn` (String) The ARN of the SyncJob.
- `creation_date_time` (String) The date and time when the sync job was created.
- `id` (String) Uniquely identifies the resource.
- `state` (String) The state of SyncJob.
- `update_date_time` (String) The date and time when the sync job was updated.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_iottwinmaker_sync_job.example "workspace_id|sync_source"
```
